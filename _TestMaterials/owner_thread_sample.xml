<?xml version="1.0" encoding="UTF-8"?><packet><thread resultcode="0" thread="1302222473" last_res="900" ticket="1310831408" revision="1" fork="1" server_time="1332577325"/><chat thread="1302222473" no="1" vpos="0" date="1310831408" premium="1" fork="1">/"// ----------------------------------"</chat><chat thread="1302222473" no="2" vpos="0" date="1310831408" premium="1" fork="1">/"// NIVAスクリプト v1.0.5"</chat><chat thread="1302222473" no="3" vpos="0" date="1310831408" premium="1" fork="1">/"// 【作成者】青野はるみ"</chat><chat thread="1302222473" no="4" vpos="0" date="1310831408" premium="1" fork="1">/"// 【作成日】2011/07/17"</chat><chat thread="1302222473" no="5" vpos="0" date="1310831408" premium="1" fork="1">/"// ----------------------------------"</chat><chat thread="1302222473" no="6" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜スクリプトについて＞"</chat><chat thread="1302222473" no="7" vpos="0" date="1310831408" premium="1" fork="1">/"// NIVAスクリプトに興味を持って下さり、ありがとうございますm(_ _)m"</chat><chat thread="1302222473" no="8" vpos="0" date="1310831408" premium="1" fork="1">/"// これはニコニコにアップした動画をDIVA風音ゲー化（以下、NIVA化）するためのスクリプトです"</chat><chat thread="1302222473" no="9" vpos="0" date="1310831408" premium="1" fork="1">/"// ゲーム化するための作業は全てスクリプト側で行っているので、このスクリプトを貼ることで既存の任意のPV動画をNIVA化することができます"</chat><chat thread="1302222473" no="10" vpos="0" date="1310831408" premium="1" fork="1">/"// スクリプトは基本的に【修正すべき場所★】と記した部分のパラメータを修正するだけで、あとはそのままで動きますので、プログラムに関する知識がない方でも簡単にいじれます"</chat><chat thread="1302222473" no="11" vpos="0" date="1310831408" premium="1" fork="1">/"// むしろどちらかというと譜面作成が主な修正作業です"</chat><chat thread="1302222473" no="12" vpos="0" date="1310831408" premium="1" fork="1">/"// スクリプトの利用、修正の仕方は、以下のサイトにて説明しています"</chat><chat thread="1302222473" no="13" vpos="0" date="1310831408" premium="1" fork="1">/"// http://nivascript.web.fc2.com/"</chat><chat thread="1302222473" no="14" vpos="0" date="1310831408" premium="1" fork="1">/"// --------------------------定数定義 --------------------------"</chat><chat thread="1302222473" no="15" vpos="0" date="1310831408" premium="1" fork="1">/"// ↓【修正すべき場所★】↓"</chat><chat thread="1302222473" no="16" vpos="0" date="1310831408" premium="1" fork="1">/"// 動画のサイズ。16:9の場合1、4:3の場合2、4:3だけど上下に黒帯が入っている（実際のコンテンツは16:9）場合は3、16:9だけど上下に黒帯が入っている（実際のコンテンツは16:7）場合は4、4:3だけど上下に黒帯が入っている（実際のコンテンツの高さは下記のMOVIE_HEIGHTで指定）場合は5、16:9だけど上下に黒帯が入っている（実際のコンテンツの高さは下記のMOVIE_HEIGHTで指定）場合は6を指定します"</chat><chat thread="1302222473" no="17" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_SIZE = 1;</chat><chat thread="1302222473" no="18" vpos="0" date="1310831408" premium="1" fork="1">/"// 動画の実際のコンテンツの高さ。すなわち黒帯部分を除いた高さ。↑のMOVIE_SIZEで5または6を指定した場合のみ指定します"</chat><chat thread="1302222473" no="19" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_HEIGHT = 0;</chat><chat thread="1302222473" no="20" vpos="0" date="1310831408" premium="1" fork="1">/"// 動画の長さ。単位は秒（小数点（2桁まで）でミリ秒も指定可。ただしそこまで厳密に指定する必要はありません）"</chat><chat thread="1302222473" no="21" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_LENGTH = 99.75;</chat><chat thread="1302222473" no="22" vpos="0" date="1310831408" premium="1" fork="1">/"// 歌のタイトル"</chat><chat thread="1302222473" no="23" vpos="0" date="1310831408" premium="1" fork="1">/SONG_TITLE = "みくみくにしてあげる♪【してやんよ】";</chat><chat thread="1302222473" no="24" vpos="0" date="1310831408" premium="1" fork="1">/"// コメント制御。コメントを制限しない場合は0、上下コメントのみ禁止する場合は1、それプラス大小コメント、色コメントも禁止する場合は2を指定します。これは公開後に設定を変更した場合も、制御設定前のコメントにも適用されます"</chat><chat thread="1302222473" no="25" vpos="0" date="1310831408" premium="1" fork="1">/"// コメントの投稿自体を禁止する場合は下の方の【修正すべき場所★】にあるpostDisabledを変更します。これは禁止設定後のコメントにのみ適用されます"</chat><chat thread="1302222473" no="26" vpos="0" date="1310831408" premium="1" fork="1">/"// 不適切なコメントでゲームに支障が出ることを避けたい場合にこれら設定を変更して対処します"</chat><chat thread="1302222473" no="27" vpos="0" date="1310831408" premium="1" fork="1">/COMMENT_CONTROLL = 0;</chat><chat thread="1302222473" no="28" vpos="0" date="1310831408" premium="1" fork="1">/"// ↑【修正すべき場所★】↑"</chat><chat thread="1302222473" no="29" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_SIZE_16_9 = 1;</chat><chat thread="1302222473" no="30" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_SIZE_4_3 = 2;</chat><chat thread="1302222473" no="31" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_SIZE_4_3_LB = 3;</chat><chat thread="1302222473" no="32" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_SIZE_16_9_LB = 4;</chat><chat thread="1302222473" no="33" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_SIZE_4_3_LB_ARBITRARILY = 5;</chat><chat thread="1302222473" no="34" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_SIZE_16_9_LB_ARBITRARILY = 6;</chat><chat thread="1302222473" no="35" vpos="0" date="1310831408" premium="1" fork="1">/NICO_LB_WIDTH = 16;</chat><chat thread="1302222473" no="36" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_HEIGHT_16_9 = 360;</chat><chat thread="1302222473" no="37" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_HEIGHT_4_3 = 384;</chat><chat thread="1302222473" no="38" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_HEIGHT_4_3_LB = 288;</chat><chat thread="1302222473" no="39" vpos="0" date="1310831408" premium="1" fork="1">/MOVIE_HEIGHT_16_9_LB = 280;</chat><chat thread="1302222473" no="40" vpos="0" date="1310831408" premium="1" fork="1">/COMMENT_FREE = 0;</chat><chat thread="1302222473" no="41" vpos="0" date="1310831408" premium="1" fork="1">/COMMENT_UE_SHITA_NG = 1;</chat><chat thread="1302222473" no="42" vpos="0" date="1310831408" premium="1" fork="1">/COMMENT_SIZE_COLOR_NG = 2;</chat><chat thread="1302222473" no="43" vpos="0" date="1310831408" premium="1" fork="1">/COMMENT_COLOR_DEFAULT = 0xffffff;</chat><chat thread="1302222473" no="44" vpos="0" date="1310831408" premium="1" fork="1">/BASE_POSITION = "hidari ue";</chat><chat thread="1302222473" no="45" vpos="0" date="1310831408" premium="1" fork="1">/FPS_DEFAULT = 15;	"// 【メモ】このFPSはゲーム部分のFPS（≠PVのFPS）。最大15FPS。ニコニコの仕様上、それ以上を指定しても無効"</chat><chat thread="1302222473" no="46" vpos="0" date="1310831408" premium="1" fork="1">/FPS_LIGHT = 10;</chat><chat thread="1302222473" no="47" vpos="0" date="1310831408" premium="1" fork="1">/MODE_NORMAL = 0;</chat><chat thread="1302222473" no="48" vpos="0" date="1310831408" premium="1" fork="1">/MODE_LIGHT = 1;</chat><chat thread="1302222473" no="49" vpos="0" date="1310831408" premium="1" fork="1">/MODE_AUTO = 2;</chat><chat thread="1302222473" no="50" vpos="0" date="1310831408" premium="1" fork="1">/MODE_NAME = ["通常モード", "軽量モード", "自動モード"];</chat><chat thread="1302222473" no="51" vpos="0" date="1310831408" premium="1" fork="1">/SET_RHYTHM_TIME = 8.50;</chat><chat thread="1302222473" no="52" vpos="0" date="1310831408" premium="1" fork="1">/GAME_START_TIME = 10.00;</chat><chat thread="1302222473" no="53" vpos="0" date="1310831408" premium="1" fork="1">/GAME_END_TIME = MOVIE_LENGTH - 2.00;</chat><chat thread="1302222473" no="54" vpos="0" date="1310831408" premium="1" fork="1">/SEQ = -1;</chat><chat thread="1302222473" no="55" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_TYPE = ["○", "×", "□", "△"];</chat><chat thread="1302222473" no="56" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_COLOR = [0xff0000, 0x00CCff, 0xff66ff, 0x00ff00];</chat><chat thread="1302222473" no="57" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_LENGTH = 16;</chat><chat thread="1302222473" no="58" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_FILTER_DEFAULT = "fuchi";</chat><chat thread="1302222473" no="59" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_FILTER_MISS1 = "";</chat><chat thread="1302222473" no="60" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_FILTER_MISS2 = "kasumi";</chat><chat thread="1302222473" no="61" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_SIZE = 36;</chat><chat thread="1302222473" no="62" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_SIZE_BATSU = 66;	"// 【メモ】×だけ異常にフォントが小さいことへの反則対応"</chat><chat thread="1302222473" no="63" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_BATSU_VALIGN = -14;	"// 【メモ】×だけ異常にフォントが小さいことへの反則対応"</chat><chat thread="1302222473" no="64" vpos="0" date="1310831408" premium="1" fork="1">/MELODY_ICON_HIT_SCALE = 1.5;</chat><chat thread="1302222473" no="65" vpos="0" date="1310831408" premium="1" fork="1">/TARGET_TYPE = ["●", "×", "■", "▲"];</chat><chat thread="1302222473" no="66" vpos="0" date="1310831408" premium="1" fork="1">/TARGET_LENGTH = MELODY_ICON_LENGTH;</chat><chat thread="1302222473" no="67" vpos="0" date="1310831408" premium="1" fork="1">/TARGET_SIZE = 42;</chat><chat thread="1302222473" no="68" vpos="0" date="1310831408" premium="1" fork="1">/TARGET_SIZE_BATSU = 72;	"// 【メモ】×だけ異常にフォントが小さいことへの反則対応"</chat><chat thread="1302222473" no="69" vpos="0" date="1310831408" premium="1" fork="1">/TARGET_BATSU_VALIGN = -14;	"// 【メモ】×だけ異常にフォントが小さいことへの反則対応"</chat><chat thread="1302222473" no="70" vpos="0" date="1310831408" premium="1" fork="1">/TARGET_COLOR = 0x999999;</chat><chat thread="1302222473" no="71" vpos="0" date="1310831408" premium="1" fork="1">/TARGET_FILTER = "fuchi";</chat><chat thread="1302222473" no="72" vpos="0" date="1310831408" premium="1" fork="1">/TARGET_DISPLAY_TIMESPAN_RATE = 3.50;	"// 【メモ】ターゲットが表示される時間のレート。表示時間＝レート／メロディアイコンスピード"</chat><chat thread="1302222473" no="73" vpos="0" date="1310831408" premium="1" fork="1">/HIT_EFFECT_TIMESPAN = 0.30;</chat><chat thread="1302222473" no="74" vpos="0" date="1310831408" premium="1" fork="1">/HIT_JUDGE_TIMESPAN = [0.18, 0.26, 0.34, 0.42];	"// 【メモ】処理落ちやマウスのクリック性能の関係上、ヒット判定は甘め"</chat><chat thread="1302222473" no="75" vpos="0" date="1310831408" premium="1" fork="1">/MISS_EFFECT_TIMESPAN = 0.20;</chat><chat thread="1302222473" no="76" vpos="0" date="1310831408" premium="1" fork="1">/TIMING_TYPE = ["COOL", "FINE", "SAFE", "SAD", "WORST"];</chat><chat thread="1302222473" no="77" vpos="0" date="1310831408" premium="1" fork="1">/TIMING_COLOR = [0xCCCC00, 0xC0C0C0, 0x00FF00, 0x3333FF, 0xFF00FF];</chat><chat thread="1302222473" no="78" vpos="0" date="1310831408" premium="1" fork="1">/TIMING_SCORE = [500, 300, 100, 50, 0];</chat><chat thread="1302222473" no="79" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_RATE = 2;</chat><chat thread="1302222473" no="80" vpos="0" date="1310831408" premium="1" fork="1">/TIMING_FILTER = "fuchi";</chat><chat thread="1302222473" no="81" vpos="0" date="1310831408" premium="1" fork="1">/TIMING_SIZE = 24;</chat><chat thread="1302222473" no="82" vpos="0" date="1310831408" premium="1" fork="1">/TIMING_DISPlAY_TIMESPAN = 1.00;</chat><chat thread="1302222473" no="83" vpos="0" date="1310831408" premium="1" fork="1">/COMBO_COLOR = 0xCCCC00;</chat><chat thread="1302222473" no="84" vpos="0" date="1310831408" premium="1" fork="1">/COMBO_FILTER = TIMING_FILTER;</chat><chat thread="1302222473" no="85" vpos="0" date="1310831408" premium="1" fork="1">/COMBO_SIZE = 30;</chat><chat thread="1302222473" no="86" vpos="0" date="1310831408" premium="1" fork="1">/COMBO_DISPlAY_TIMESPAN = TIMING_DISPlAY_TIMESPAN;</chat><chat thread="1302222473" no="87" vpos="0" date="1310831408" premium="1" fork="1">/COMBO_LENGTH = 3;</chat><chat thread="1302222473" no="88" vpos="0" date="1310831408" premium="1" fork="1">/COMBO_BONUS_BORDER = [10, 20, 30, 40, 50];</chat><chat thread="1302222473" no="89" vpos="0" date="1310831408" premium="1" fork="1">/COMBO_BONUS_SCORE = [50, 100, 150, 200, 250];</chat><chat thread="1302222473" no="90" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_BONUS_BORDER = [0, 1, 4, 7, 10, 13];</chat><chat thread="1302222473" no="91" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_BONUS_SCORE = [50000, 40000, 30000, 15000, 10000, 0];</chat><chat thread="1302222473" no="92" vpos="0" date="1310831408" premium="1" fork="1">/TIMING_COMBO_GAP = 80;</chat><chat thread="1302222473" no="93" vpos="0" date="1310831408" premium="1" fork="1">/UPPER_WINDOW_HEIGHT = 30;</chat><chat thread="1302222473" no="94" vpos="0" date="1310831408" premium="1" fork="1">/UPPER_WINDOW_COLOR = 0x000000;</chat><chat thread="1302222473" no="95" vpos="0" date="1310831408" premium="1" fork="1">/UPPER_WINDOW_ALPHA = 75;</chat><chat thread="1302222473" no="96" vpos="0" date="1310831408" premium="1" fork="1">/UPPER_WINDOW_CHANCE_TIME_ALPHA = 0;</chat><chat thread="1302222473" no="97" vpos="0" date="1310831408" premium="1" fork="1">/UPPER_WINDOW_APPEAR_TIMESPAN = 1.5;	"// 【メモ】退場も同じ時間を使う"</chat><chat thread="1302222473" no="98" vpos="0" date="1310831408" premium="1" fork="1">/UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN = UPPER_WINDOW_APPEAR_TIMESPAN / 2;</chat><chat thread="1302222473" no="99" vpos="0" date="1310831408" premium="1" fork="1">/SONG_TITLE_SIZE = 18;</chat><chat thread="1302222473" no="100" vpos="0" date="1310831408" premium="1" fork="1">/SONG_TITLE_COLOR = 0xFFFFFF;</chat><chat thread="1302222473" no="101" vpos="0" date="1310831408" premium="1" fork="1">/SONG_TITLE_SHADOW_COLOR = 0x000000;</chat><chat thread="1302222473" no="102" vpos="0" date="1310831408" premium="1" fork="1">/SONG_TITLE_SHADOW_DISTANCE = 1.5;</chat><chat thread="1302222473" no="103" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_EASY = 1;</chat><chat thread="1302222473" no="104" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_NORMAL = 2;</chat><chat thread="1302222473" no="105" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_HARD = 3;</chat><chat thread="1302222473" no="106" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_PV = 0;</chat><chat thread="1302222473" no="107" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_NAME = ["PV鑑賞", "EASY", "NORMAL", "HARD"];</chat><chat thread="1302222473" no="108" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_SIZE = 16;</chat><chat thread="1302222473" no="109" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_COLOR = 0x30E1F0;</chat><chat thread="1302222473" no="110" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_SHADOW_COLOR = 0x000000;</chat><chat thread="1302222473" no="111" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_SHADOW_DISTANCE = 1.5;</chat><chat thread="1302222473" no="112" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_PANEL_SIZE = 24;</chat><chat thread="1302222473" no="113" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_PANEL_COLOR = 0xFFFFFF;</chat><chat thread="1302222473" no="114" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_PANEL_FILTER = "fuchi";</chat><chat thread="1302222473" no="115" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_PANEL_LENGTH = 7;</chat><chat thread="1302222473" no="116" vpos="0" date="1310831408" premium="1" fork="1">/LEVEL_SCORE_GAP = 50;</chat><chat thread="1302222473" no="117" vpos="0" date="1310831408" premium="1" fork="1">/UNDER_WINDOW_HEIGHT = UPPER_WINDOW_HEIGHT;</chat><chat thread="1302222473" no="118" vpos="0" date="1310831408" premium="1" fork="1">/UNDER_WINDOW_COLOR = UPPER_WINDOW_COLOR;</chat><chat thread="1302222473" no="119" vpos="0" date="1310831408" premium="1" fork="1">/UNDER_WINDOW_ALPHA = UPPER_WINDOW_ALPHA;</chat><chat thread="1302222473" no="120" vpos="0" date="1310831408" premium="1" fork="1">/UNDER_WINDOW_CHANCE_TIME_ALPHA = UPPER_WINDOW_CHANCE_TIME_ALPHA;</chat><chat thread="1302222473" no="121" vpos="0" date="1310831408" premium="1" fork="1">/UNDER_WINDOW_APPEAR_TIMESPAN = UPPER_WINDOW_APPEAR_TIMESPAN;</chat><chat thread="1302222473" no="122" vpos="0" date="1310831408" premium="1" fork="1">/UNDER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN = UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN;</chat><chat thread="1302222473" no="123" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_TEXT_SIZE = 16;</chat><chat thread="1302222473" no="124" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_TEXT_COLOR = 0xEE4488;</chat><chat thread="1302222473" no="125" vpos="0" date="1310831408" premium="1" fork="1">/LYRICS_SIZE = 16;</chat><chat thread="1302222473" no="126" vpos="0" date="1310831408" premium="1" fork="1">/LYRICS_COLOR = 0xFFFFFF;</chat><chat thread="1302222473" no="127" vpos="0" date="1310831408" premium="1" fork="1">/LYRICS_SHADOW_COLOR = 0x000000;</chat><chat thread="1302222473" no="128" vpos="0" date="1310831408" premium="1" fork="1">/LYRICS_SHADOW_DISTANCE = 1.5;</chat><chat thread="1302222473" no="129" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_LYRICS_GAP = 40;</chat><chat thread="1302222473" no="130" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_MESSAGE_SIZE = 24;</chat><chat thread="1302222473" no="131" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_MESSAGE_COLOR = CHANCE_TIME_TEXT_COLOR;</chat><chat thread="1302222473" no="132" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_MESSAGE_POS = "naka ue";</chat><chat thread="1302222473" no="133" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_MESSAGE_TIMESPAN = 3.00;</chat><chat thread="1302222473" no="134" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_WINDOW_WIDTH = 300;</chat><chat thread="1302222473" no="135" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_WINDOW_HEIGHT = 30;</chat><chat thread="1302222473" no="136" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_WINDOW_COLOR = CHANCE_TIME_TEXT_COLOR;</chat><chat thread="1302222473" no="137" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_WINDOW_ALPHA = 65;</chat><chat thread="1302222473" no="138" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_WINDOW_UNDER_WINDOW_GAP = 8;</chat><chat thread="1302222473" no="139" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_BONUS_SIZE = CHANCE_TIME_MESSAGE_SIZE;</chat><chat thread="1302222473" no="140" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_BONUS_COLOR = CHANCE_TIME_TEXT_COLOR;</chat><chat thread="1302222473" no="141" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_BONUS_POS = CHANCE_TIME_MESSAGE_POS;</chat><chat thread="1302222473" no="142" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_BONUS_WINDOW_GAP = 8;</chat><chat thread="1302222473" no="143" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_SCORE_COLOR = 0xC0C0C0;</chat><chat thread="1302222473" no="144" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_SCORE_FILTER = TIMING_FILTER;</chat><chat thread="1302222473" no="145" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_SCORE_SIZE = 24;</chat><chat thread="1302222473" no="146" vpos="0" date="1310831408" premium="1" fork="1">/CHANCE_TIME_SCORE_DISPlAY_TIMESPAN = TIMING_DISPlAY_TIMESPAN;</chat><chat thread="1302222473" no="147" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_WIDTH = 400;</chat><chat thread="1302222473" no="148" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_HEIGHT = 250;</chat><chat thread="1302222473" no="149" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_AREA_COLOR = 0x10C1D0;</chat><chat thread="1302222473" no="150" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_AREA_ALPHA = 25;</chat><chat thread="1302222473" no="151" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_BORDER_COLOR = 0xFFFFFF;</chat><chat thread="1302222473" no="152" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_BORDER_ALPHA = 0;</chat><chat thread="1302222473" no="153" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_BORDER_SIZE = 4;</chat><chat thread="1302222473" no="154" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_TEXT_COLOR = 0xFFFFFF;</chat><chat thread="1302222473" no="155" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_TEXT_SIZE = 20;</chat><chat thread="1302222473" no="156" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_TEXT_LINE_SPACE = 12;</chat><chat thread="1302222473" no="157" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_TEXT_POS = "naka ue";</chat><chat thread="1302222473" no="158" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_APPEAR_TIMESPAN = 1.00;</chat><chat thread="1302222473" no="159" vpos="0" date="1310831408" premium="1" fork="1">/SELECT_WINDOW_TRIGGER_TIMESPAN = 8;</chat><chat thread="1302222473" no="160" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_WIDTH = 450;</chat><chat thread="1302222473" no="161" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_HEIGHT = 250;</chat><chat thread="1302222473" no="162" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_AREA_COLOR = 0x10C1D0;</chat><chat thread="1302222473" no="163" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_AREA_ALPHA = 25;</chat><chat thread="1302222473" no="164" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_AREA_MARGIN = 5;</chat><chat thread="1302222473" no="165" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_BORDER_COLOR = 0xFFFFFF;</chat><chat thread="1302222473" no="166" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_BORDER_ALPHA = 0;</chat><chat thread="1302222473" no="167" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_BORDER_SIZE = 4;</chat><chat thread="1302222473" no="168" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_TEXT_COLOR = 0xFFFFFF;</chat><chat thread="1302222473" no="169" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_TEXT_SIZE_RATING = 30;</chat><chat thread="1302222473" no="170" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_TEXT_SIZE_LEVEL = 24;</chat><chat thread="1302222473" no="171" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_TEXT_SIZE_DEFAULT = 16;</chat><chat thread="1302222473" no="172" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_TEXT_LINE_SPACE = 12;</chat><chat thread="1302222473" no="173" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_TEXT_POS_RATING = "naka ue";</chat><chat thread="1302222473" no="174" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_LEFT_VALUE_LENGTH = 4;</chat><chat thread="1302222473" no="175" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_RIGHT_VALUE_LENGTH = 7;</chat><chat thread="1302222473" no="176" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BORAD_HIDE_TIMESPAN = 0.10;</chat><chat thread="1302222473" no="177" vpos="0" date="1310831408" premium="1" fork="1">/RATING_TYPE = ["PERFECT", "EXCELLENT", "GREAT", "STANDARD", "CHEAP"];</chat><chat thread="1302222473" no="178" vpos="0" date="1310831408" premium="1" fork="1">/RATING_BORDER = [100, 97, 95, 85, 0];</chat><chat thread="1302222473" no="179" vpos="0" date="1310831408" premium="1" fork="1">/RATING_COLOR = [0xCCCC00, 0x00FFFF, 0x00FF00, 0x3333FF, 0xFF00FF];</chat><chat thread="1302222473" no="180" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BARCODE_SIZE = 3;</chat><chat thread="1302222473" no="181" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BARCODE_LEFT_COLOR = 0xFEFEFE;</chat><chat thread="1302222473" no="182" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BARCODE_RIGHT_COLOR = 0x010101;</chat><chat thread="1302222473" no="183" vpos="0" date="1310831408" premium="1" fork="1">/SCORE_BARCODE_RESET_COLOR = 0x898989;</chat><chat thread="1302222473" no="184" vpos="0" date="1310831408" premium="1" fork="1">/"// --------------------------関数定義 --------------------------"</chat><chat thread="1302222473" no="185" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】特定クラスに限らない汎用的な関数をここで定義"</chat><chat thread="1302222473" no="186" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトの色を暗く変換"</chat><chat thread="1302222473" no="187" vpos="0" date="1310831408" premium="1" fork="1">/def(dark(obj), obj.color = ((obj.color / 0x10000 / 4).floor * 0x10000) + ((obj.color % 0x10000 / 0x100 / 4).floor * 0x100) + ((obj.color % 0x100) / 4).floor);</chat><chat thread="1302222473" no="188" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトを表示"</chat><chat thread="1302222473" no="189" vpos="0" date="1310831408" premium="1" fork="1">/def(show(obj), obj.visible = true);</chat><chat thread="1302222473" no="190" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトを一定時間表示"</chat><chat thread="1302222473" no="191" vpos="0" date="1310831408" premium="1" fork="1">/def(showTimespan(obj, timespan), show(obj); timer(timer:timespan, then:hide(obj)));</chat><chat thread="1302222473" no="192" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトを非表示"</chat><chat thread="1302222473" no="193" vpos="0" date="1310831408" premium="1" fork="1">/def(hide(obj), obj.visible = false);</chat><chat thread="1302222473" no="194" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトの位置を絶対的に設定"</chat><chat thread="1302222473" no="195" vpos="0" date="1310831408" premium="1" fork="1">/def(setPosition(obj, x, y), obj.x = x; obj.y = y);</chat><chat thread="1302222473" no="196" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトの位置を相対的に設定"</chat><chat thread="1302222473" no="197" vpos="0" date="1310831408" premium="1" fork="1">/def(setPositionRelative(obj, dx, dy), obj.x += dx; obj.y += dy);</chat><chat thread="1302222473" no="198" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトの縦横サイズを設定"</chat><chat thread="1302222473" no="199" vpos="0" date="1310831408" premium="1" fork="1">/def(setLargeness(obj, width, height), obj.width = width; obj.height = height);</chat><chat thread="1302222473" no="200" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトの位置と縦横サイズを設定"</chat><chat thread="1302222473" no="201" vpos="0" date="1310831408" premium="1" fork="1">/def(setRect(obj, x, y, width, height), setPosition(obj, x, y); setLargeness(obj, width, height));</chat><chat thread="1302222473" no="202" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトを定速移動"</chat><chat thread="1302222473" no="203" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】moverは余計に扱いが難しくなるので使わない"</chat><chat thread="1302222473" no="204" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】端数の関係上、最後の一フレームで直接絶対位置を指定して移動させる"</chat><chat thread="1302222473" no="205" vpos="0" date="1310831408" premium="1" fork="1">/def(move(obj, goalX, goalY, timeSpan), timeStep := timeSpan / GameInfo.getInterval(); dx := (goalX - obj.x) / timeStep; dy := (goalY - obj.y) / timeStep; i := 0; while_kari(i &lt; timeStep - 1, timer(timer:i * GameInfo.getInterval(), then:setPositionRelative(obj, dx, dy)); i++); timer(timer:timeSpan, then:setPosition(obj, goalX, goalY)));</chat><chat thread="1302222473" no="206" vpos="0" date="1310831408" premium="1" fork="1">/"// オブジェクトを定速移動（相対指定）"</chat><chat thread="1302222473" no="207" vpos="0" date="1310831408" premium="1" fork="1">/def(moveRelative(obj, dx, dy, timeSpan), move(obj, obj.x + dx, obj.y + dy, timeSpan));</chat><chat thread="1302222473" no="208" vpos="0" date="1310831408" premium="1" fork="1">/"// 指定桁数に長さを調整した数字文字列を取得（右寄せ）"</chat><chat thread="1302222473" no="209" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】半角スペース二つ分が数字一文字分の幅として調整。そのため数字以外には使わないこと！"</chat><chat thread="1302222473" no="210" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】厳密には桁によって実際の文字列幅は微妙にずれてしまう"</chat><chat thread="1302222473" no="211" vpos="0" date="1310831408" premium="1" fork="1">/def(getPrefixedNumber(num, length), numStr := num + ""; prefixedStr = numStr; i := 0; while_kari(i &lt; length - numStr.size, prefixedStr = "  " + prefixedStr; i++); prefixedStr);</chat><chat thread="1302222473" no="212" vpos="0" date="1310831408" premium="1" fork="1">/"// 指定桁数にゼロパディングした数字文字列を取得"</chat><chat thread="1302222473" no="213" vpos="0" date="1310831408" premium="1" fork="1">/def(getZeroPaddingNumber(num, length), numStr := num + ""; paddingStr = numStr; i := 0; while_kari(i &lt; length - numStr.size, paddingStr = "0" + paddingStr; i++); paddingStr);</chat><chat thread="1302222473" no="214" vpos="0" date="1310831408" premium="1" fork="1">/"// 角度をラジアンに変換"</chat><chat thread="1302222473" no="215" vpos="0" date="1310831408" premium="1" fork="1">/def(getRadian(theta), radian := theta * 3.14 / 180; radian);</chat><chat thread="1302222473" no="216" vpos="0" date="1310831408" premium="1" fork="1">/"// --------------------------クラス定義（擬似的な） --------------------------"</chat><chat thread="1302222473" no="217" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】ニワン語の言語仕様上、擬似的なことをしてクラス定義、インスタンス化を実現している"</chat><chat thread="1302222473" no="218" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】本来アクセス制御のないニワン語では全てのクラス、関数がグローバル変数を直接扱えるが、クラス化を明確にするために、主処理クラスを除き、定数以外の変数は直接使わない（引数で事前に渡す）ようにしている"</chat><chat thread="1302222473" no="219" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜主処理クラス＞======================================"</chat><chat thread="1302222473" no="220" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】主処理内で使用する関数を扱うstatic的なクラス"</chat><chat thread="1302222473" no="221" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】このクラスはインスタンス化せずに使用する"</chat><chat thread="1302222473" no="222" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】このクラスのみ特殊扱いで、グローバル変数（＝主処理内のローカル変数）も直接扱わせる"</chat><chat thread="1302222473" no="223" vpos="0" date="1310831408" premium="1" fork="1">/Main = Object.clone;</chat><chat thread="1302222473" no="224" vpos="0" date="1310831408" premium="1" fork="1">/"// 難易度、動作モードの選択を反映"</chat><chat thread="1302222473" no="225" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(reflectLevelMode(), levelText.body.text = levelText.shadow.text = LEVEL_NAME[GameInfo.level]; levelX := scorePanel.panel.x - (LEVEL_NAME[GameInfo.level].size * LEVEL_SIZE) / 2 - LEVEL_SCORE_GAP; levelText.setPositionRelative(levelX, 0); if(GameInfo.isLight(), then:songTitleText.hide(); lyricsText.hide()));</chat><chat thread="1302222473" no="226" vpos="0" date="1310831408" premium="1" fork="1">/"// 上部、下部ウィンドウフレームイン"</chat><chat thread="1302222473" no="227" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】CHANCE TIME終了時の事後フレームアウトの場合（＝歌タイトルは移動しない）はafterChanceTimeにtrueを、そうでない場合はfalseを指定"</chat><chat thread="1302222473" no="228" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(appearUpperUnderWindow(time, timespan, afterChanceTime), timer(timer:time, then:if(GameInfo.isLight(), then:setPositionRelative(upperWindow.area, 0, UPPER_WINDOW_HEIGHT); if(afterChanceTime == false, then:songTitleText.setPositionRelative(0, UPPER_WINDOW_HEIGHT)); setPositionRelative(scorePanel.panel, 0, UPPER_WINDOW_HEIGHT); levelText.setPositionRelative(0, UPPER_WINDOW_HEIGHT); setPositionRelative(underWindow.area, 0, -UNDER_WINDOW_HEIGHT), else:moveRelative(upperWindow.area, 0, UPPER_WINDOW_HEIGHT, timespan); if(afterChanceTime == false, then:songTitleText.moveRelative(0, UPPER_WINDOW_HEIGHT, timespan)); moveRelative(scorePanel.panel, 0, UPPER_WINDOW_HEIGHT, timespan); levelText.moveRelative(0, UPPER_WINDOW_HEIGHT, timespan); moveRelative(underWindow.area, 0, -UNDER_WINDOW_HEIGHT, timespan))));</chat><chat thread="1302222473" no="229" vpos="0" date="1310831408" premium="1" fork="1">/"// 上部、下部ウィンドウフレームアウト"</chat><chat thread="1302222473" no="230" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】CHANCE TIME導入時の事前フレームアウトの場合（＝歌タイトルは移動しない＆CHANCE TIME STARTのメッセージが表示される）はpreChanceTimeにtrueを、そうでない場合はfalseを指定"</chat><chat thread="1302222473" no="231" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(disappearUpperUnderWindow(time, timespan, preChanceTime), timer(timer:time, then:if(GameInfo.isLight(), then:setPositionRelative(upperWindow.area, 0, -UPPER_WINDOW_HEIGHT); if(preChanceTime == false, then:songTitleText.setPositionRelative(0, -UPPER_WINDOW_HEIGHT), else:showChanceTimeMessageStart()); setPositionRelative(scorePanel.panel, 0, -UPPER_WINDOW_HEIGHT); levelText.setPositionRelative(0, -UPPER_WINDOW_HEIGHT); setPositionRelative(underWindow.area, 0, UNDER_WINDOW_HEIGHT), else:moveRelative(upperWindow.area, 0, -UPPER_WINDOW_HEIGHT, timespan); if(preChanceTime == false, then:songTitleText.moveRelative(0, -UPPER_WINDOW_HEIGHT, timespan), else:showChanceTimeMessageStart()); moveRelative(scorePanel.panel, 0, -UPPER_WINDOW_HEIGHT, timespan); levelText.moveRelative(0, -UPPER_WINDOW_HEIGHT, timespan); moveRelative(underWindow.area, 0, UNDER_WINDOW_HEIGHT, timespan))));</chat><chat thread="1302222473" no="232" vpos="0" date="1310831408" premium="1" fork="1">/"// 上部、下部ウィンドウフレームイン（CHANCE TIME版のそれ）"</chat><chat thread="1302222473" no="233" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(appearUpperUnderWindowChanceTime(time), timer(timer:time, then:upperWindow.setAlpha(UPPER_WINDOW_CHANCE_TIME_ALPHA); underWindow.setAlpha(UNDER_WINDOW_CHANCE_TIME_ALPHA); if(GameInfo.isLight(), then: setPositionRelative(upperWindow.area, 0, UPPER_WINDOW_HEIGHT); setPositionRelative(underWindow.area, 0, -UNDER_WINDOW_HEIGHT); setPositionRelative(chanceTimeText.body, 0, -UNDER_WINDOW_HEIGHT), else:moveRelative(upperWindow.area, 0, UPPER_WINDOW_HEIGHT, UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN); moveRelative(underWindow.area, 0, -UNDER_WINDOW_HEIGHT, UNDER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN); moveRelative(chanceTimeText.body, 0, -UNDER_WINDOW_HEIGHT, UNDER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN))));</chat><chat thread="1302222473" no="234" vpos="0" date="1310831408" premium="1" fork="1">/"// 上部、下部ウィンドウフレームアウト（CHANCE TIME版のそれ）"</chat><chat thread="1302222473" no="235" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(disappearUpperUnderWindowChanceTime(time), timer(timer:time, then:showChanceTimeMessageEnd(); if(GameInfo.isLight(), then:setPositionRelative(upperWindow.area, 0, -UPPER_WINDOW_HEIGHT); setPositionRelative(underWindow.area, 0, UNDER_WINDOW_HEIGHT); setPositionRelative(chanceTimeText.body, 0, UNDER_WINDOW_HEIGHT), else:moveRelative(upperWindow.area, 0, -UPPER_WINDOW_HEIGHT, UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN); moveRelative(underWindow.area, 0, UNDER_WINDOW_HEIGHT, UNDER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN); moveRelative(chanceTimeText.body, 0, UNDER_WINDOW_HEIGHT, UNDER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN))); timer(timer:time + UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN, then:upperWindow.setAlpha(UPPER_WINDOW_ALPHA); underWindow.setAlpha(UNDER_WINDOW_ALPHA)));</chat><chat thread="1302222473" no="236" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIMEメッセージの表示（開始時）"</chat><chat thread="1302222473" no="237" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(showChanceTimeMessageStart(), showTimespan(chanceTimeWindow.area, CHANCE_TIME_MESSAGE_TIMESPAN); chanceTimeMessage.body.text = "CHANCE TIME START"; showTimespan(chanceTimeMessage.body, CHANCE_TIME_MESSAGE_TIMESPAN));</chat><chat thread="1302222473" no="238" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIMEメッセージの表示（終了時）"</chat><chat thread="1302222473" no="239" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(showChanceTimeMessageEnd(), showTimespan(chanceTimeWindow.area, CHANCE_TIME_MESSAGE_TIMESPAN); chanceTimeMessage.body.text = "CHANCE TIME END"; showTimespan(chanceTimeMessage.body, CHANCE_TIME_MESSAGE_TIMESPAN); chanceTimeBonusText.body.text = score.chanceTimeBonus; showTimespan(chanceTimeBonusText.body, CHANCE_TIME_MESSAGE_TIMESPAN));</chat><chat thread="1302222473" no="240" vpos="0" date="1310831408" premium="1" fork="1">/"// スコアボード表示"</chat><chat thread="1302222473" no="241" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(showScoreBoard(time), hideAllObject(time); timer(timer:time, scoreBoard.init(score); scoreBoard.showAll()));</chat><chat thread="1302222473" no="242" vpos="0" date="1310831408" premium="1" fork="1">/"// 全オブジェクト非表示"</chat><chat thread="1302222473" no="243" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(hideAllObject(time), timer(timer:time, scoreBoard.hideAll(); maskTop.hide(); maskBottom.hide(); maskLeft.hide(); maskRight.hide(); upperWindow.hide(); underWindow.hide(); songTitleText.hide(); levelText.hide(); hide(scorePanel.panel); lyricsText.hide(); hide(chanceTimeText.body)));</chat><chat thread="1302222473" no="244" vpos="0" date="1310831408" premium="1" fork="1">/"// 下部ウィンドウを非表示（not フレームアウト）"</chat><chat thread="1302222473" no="245" vpos="0" date="1310831408" premium="1" fork="1">/Main.def(hideUnderWindow(time), timer(timer:time, then:maskBottom.hide(); hide(chanceTimeText.body)));</chat><chat thread="1302222473" no="246" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜動画情報クラス＞======================================"</chat><chat thread="1302222473" no="247" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】動画に関わる情報、計算を管理するstatic的なクラス"</chat><chat thread="1302222473" no="248" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】そのため、このクラスはインスタンス化せずに使用する"</chat><chat thread="1302222473" no="249" vpos="0" date="1310831408" premium="1" fork="1">/MovieInfo = Object.clone;</chat><chat thread="1302222473" no="250" vpos="0" date="1310831408" premium="1" fork="1">/"// ニコニコのプレイヤーサイズに対する動画の描画領域のマージン（X方向）を取得"</chat><chat thread="1302222473" no="251" vpos="0" date="1310831408" premium="1" fork="1">/MovieInfo.def(getDisplayAreaMarginX(), NICO_LB_WIDTH);</chat><chat thread="1302222473" no="252" vpos="0" date="1310831408" premium="1" fork="1">/"// ニコニコのプレイヤーサイズに対する動画の描画領域のマージン（Y方向）を取得"</chat><chat thread="1302222473" no="253" vpos="0" date="1310831408" premium="1" fork="1">/MovieInfo.def(getDisplayAreaMarginY(), displayAreaMarginY := 0; if(MOVIE_SIZE == MOVIE_SIZE_16_9, then:displayAreaMarginY = (screenHeight - MOVIE_HEIGHT_16_9) / 2, else:if(MOVIE_SIZE == MOVIE_SIZE_4_3, then:displayAreaMarginY = screenHeight - MOVIE_HEIGHT_4_3, else:if(MOVIE_SIZE == MOVIE_SIZE_16_9_LB, then:displayAreaMarginY = (screenHeight - MOVIE_HEIGHT_16_9_LB) / 2, else:if(MOVIE_SIZE == MOVIE_SIZE_4_3_LB_ARBITRARILY || MOVIE_SIZE == MOVIE_SIZE_16_9_LB_ARBITRARILY, then:displayAreaMarginY = (screenHeight - MOVIE_HEIGHT) / 2)))); displayAreaMarginY);</chat><chat thread="1302222473" no="254" vpos="0" date="1310831408" premium="1" fork="1">/"// テキストを描画する場合に指定位置と実際の描画位置の間に生じるY方向のギャップ（フォントサイズ依存）を計算"</chat><chat thread="1302222473" no="255" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】isHankakuは半角文字の場合true、全角文字の場合falseを渡す"</chat><chat thread="1302222473" no="256" vpos="0" date="1310831408" premium="1" fork="1">/MovieInfo.def(getFontGapY(size, isHankaku), if(isHankaku, then:gap := 4 + (size / 6).floor, else:gap := 4 + (size / 16).floor); gap);</chat><chat thread="1302222473" no="257" vpos="0" date="1310831408" premium="1" fork="1">/"// 指定フォントサイズに対する実際の文字の大きさを計算"</chat><chat thread="1302222473" no="258" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】各文字ごとの大きさではなく、半角、全角の総合的な大きさ。すなわちAとaは同じ「実際の大きさ」となる（Aとaは同じフォントサイズであることと同様）"</chat><chat thread="1302222473" no="259" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】半角の場合アセンドの大きさ"</chat><chat thread="1302222473" no="260" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】isHankakuは半角文字の場合true、全角文字の場合falseを渡す"</chat><chat thread="1302222473" no="261" vpos="0" date="1310831408" premium="1" fork="1">/MovieInfo.def(getActualFontSize(size, isHankaku), if(isHankaku, then:actualSize := (size * 0.72).floor, else:actualSize := (size * 0.90).floor); actualSize);</chat><chat thread="1302222473" no="262" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜ゲーム情報クラス＞======================================"</chat><chat thread="1302222473" no="263" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】ゲームに関わる情報、計算を管理するstatic的なクラス"</chat><chat thread="1302222473" no="264" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】そのため、このクラスはインスタンス化せずに使用する"</chat><chat thread="1302222473" no="265" vpos="0" date="1310831408" premium="1" fork="1">/GameInfo = Object.clone;</chat><chat thread="1302222473" no="266" vpos="0" date="1310831408" premium="1" fork="1">/"// 難易度を設定"</chat><chat thread="1302222473" no="267" vpos="0" date="1310831408" premium="1" fork="1">/GameInfo.def(setLevel(level), self.level = level);</chat><chat thread="1302222473" no="268" vpos="0" date="1310831408" premium="1" fork="1">/"// 動作モードを設定"</chat><chat thread="1302222473" no="269" vpos="0" date="1310831408" premium="1" fork="1">/GameInfo.def(setMode(mode), self.mode = mode; if(isLight(), then:self.fps = FPS_LIGHT, else:self.fps = FPS_DEFAULT));</chat><chat thread="1302222473" no="270" vpos="0" date="1310831408" premium="1" fork="1">/"// 更新間隔時間を取得"</chat><chat thread="1302222473" no="271" vpos="0" date="1310831408" premium="1" fork="1">/GameInfo.def(getInterval(), 1 / fps);</chat><chat thread="1302222473" no="272" vpos="0" date="1310831408" premium="1" fork="1">/"// 軽量モードかどうかを取得"</chat><chat thread="1302222473" no="273" vpos="0" date="1310831408" premium="1" fork="1">/GameInfo.def(isLight(), mode == MODE_LIGHT);</chat><chat thread="1302222473" no="274" vpos="0" date="1310831408" premium="1" fork="1">/"// 自動モードかどうかを取得"</chat><chat thread="1302222473" no="275" vpos="0" date="1310831408" premium="1" fork="1">/GameInfo.def(isAuto(), mode == MODE_AUTO);</chat><chat thread="1302222473" no="276" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜リズムクラス＞======================================"</chat><chat thread="1302222473" no="277" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】リズムを管理するstatic的なクラス"</chat><chat thread="1302222473" no="278" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】そのため、このクラスはインスタンス化せずに使用する"</chat><chat thread="1302222473" no="279" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm = Object.clone;</chat><chat thread="1302222473" no="280" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="281" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(init(targets, melodyIcons, timing, scorePanel, score, lyricsText), self.targets = targets; self.melodyIcons = melodyIcons; self.timing = timing; self.scorePanel = scorePanel; self.score = score; self.lyricsText = lyricsText; self.rhythmIndex = 0; self.melodyIconSpeed = 0; self.bpm = 0; self.noteLength = 0; self.masterTime = 0; self.nextX = 0; self.nextY = 0);</chat><chat thread="1302222473" no="282" vpos="0" date="1310831408" premium="1" fork="1">/"// これから配置するリズムの難易度を設定"</chat><chat thread="1302222473" no="283" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setLevel(level), self.level = level);</chat><chat thread="1302222473" no="284" vpos="0" date="1310831408" premium="1" fork="1">/"// メロディアイコンの移動速度（単位はpixel/10ms）を設定"</chat><chat thread="1302222473" no="285" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setMelodyIconSpeed(melodyIconSpeed), if(level == GameInfo.level, then:self.melodyIconSpeed = melodyIconSpeed));</chat><chat thread="1302222473" no="286" vpos="0" date="1310831408" premium="1" fork="1">/"// BPMを設定"</chat><chat thread="1302222473" no="287" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setBpm(bpm), if(level == GameInfo.level, then:self.bpm = bpm));</chat><chat thread="1302222473" no="288" vpos="0" date="1310831408" premium="1" fork="1">/"// 音符単位の長さ（四分音符なら4）を設定"</chat><chat thread="1302222473" no="289" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setNoteLength(noteLength), if(level == GameInfo.level, then:self.noteLength = noteLength));</chat><chat thread="1302222473" no="290" vpos="0" date="1310831408" premium="1" fork="1">/"// 最初のリズムを配置する時間を設定"</chat><chat thread="1302222473" no="291" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setMasterTime(masterTime), if(level == GameInfo.level, then:self.masterTime = masterTime));</chat><chat thread="1302222473" no="292" vpos="0" date="1310831408" premium="1" fork="1">/"// 譜面シーケンス配置"</chat><chat thread="1302222473" no="293" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】firstXおよびfirstYは動画コンテンツ領域内の座標"</chat><chat thread="1302222473" no="294" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setRhythmSequence(sequence, firstX, firstY, sequenceAngle, melodyIconAngle), if(level == GameInfo.level, then:if(firstX == SEQ, then:firstX = nextX); if(firstY == SEQ, then:firstY = nextY); sequenceAngleRadian := getRadian(sequenceAngle); melodyIconAngleRadian := getRadian(melodyIconAngle); i := 0; while_kari(i &lt; sequence.size, typeChar := sequence[i]; if(typeChar != "-", then:dTime := ((60 / bpm) * 4 / noteLength) * i; typeIndex := typeChar.toInteger; targetX := firstX + (dTime * 100) * sequenceAngleRadian.cos; targetY := firstY + (dTime * 100) * -sequenceAngleRadian.sin + MovieInfo.getDisplayAreaMarginY(); melodyIconStartPosition := getMelodyIconStartPosition(targetX, targetY, melodyIconAngleRadian); melodyIconStartX := melodyIconStartPosition[0]; melodyIconStartY := melodyIconStartPosition[1]; time := masterTime + dTime; setRhythm(typeIndex, targetX, targetY, melodyIconStartX, melodyIconStartY, time));  i++); ajustMaster(sequence.size, firstX, firstY, sequenceAngleRadian)));</chat><chat thread="1302222473" no="295" vpos="0" date="1310831408" premium="1" fork="1">/"// マスター時間およびネクスト座標を調整"</chat><chat thread="1302222473" no="296" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(ajustMaster(sequenceLength, firstX, firstY, sequenceAngleRadian), sequenceTime := ((60 / bpm) * 4 / noteLength) * sequenceLength; masterTime += sequenceTime; nextX = firstX + sequenceTime * 100 * sequenceAngleRadian.cos; nextY = firstY + sequenceTime * 100 * -sequenceAngleRadian.sin);</chat><chat thread="1302222473" no="297" vpos="0" date="1310831408" premium="1" fork="1">/"// メロディアイコン移動開始位置を取得（配列でX、Yを返す）"</chat><chat thread="1302222473" no="298" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】ターゲットの位置指定が画面外になっている（本来これは指定ミス）場合はターゲットと同じ位置を返す（フリーズ回避のため）"</chat><chat thread="1302222473" no="299" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(getMelodyIconStartPosition(targetX, targetY, melodyIconAngleRadian), dx := 0; dy := 0; if((-MELODY_ICON_SIZE &lt;= targetX &amp;&amp; targetX &lt;= screenWidth) &amp;&amp; (MovieInfo.getDisplayAreaMarginY() - MELODY_ICON_SIZE &lt;= targetY &amp;&amp; targetY &lt;= screenHeight - MovieInfo.getDisplayAreaMarginY()), then:if(melodyIconAngleRadian.cos != 0, then:if(melodyIconAngleRadian.cos &gt; 0, then:dx = screenWidth - targetX, else:dx = -MELODY_ICON_SIZE - targetX)); dy = dx * -(melodyIconAngleRadian.sin / melodyIconAngleRadian.cos); if (melodyIconAngleRadian.cos == 0 || targetY + dy &lt; MovieInfo.getDisplayAreaMarginY() - MELODY_ICON_SIZE || targetY + dy &gt; screenHeight - MovieInfo.getDisplayAreaMarginY(), then:if(melodyIconAngleRadian.sin &gt; 0, then:dy = MovieInfo.getDisplayAreaMarginY() - MELODY_ICON_SIZE - targetY, else:dy = screenHeight - MovieInfo.getDisplayAreaMarginY() - targetY); dx = dy / -(melodyIconAngleRadian.sin / melodyIconAngleRadian.cos))); ret := [targetX + dx, targetY + dy]; ret);</chat><chat thread="1302222473" no="300" vpos="0" date="1310831408" premium="1" fork="1">/"// 譜面個別配置"</chat><chat thread="1302222473" no="301" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】このメソッド以降はtargetX、targetY、melodyIconStartX、melodyIconStartYはスクリーン領域の座標"</chat><chat thread="1302222473" no="302" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setRhythm(typeIndex, targetX, targetY, melodyIconStartX, melodyIconStartY, time), if(level == GameInfo.level, then:dTime := time - SET_RHYTHM_TIME; score.countUpTotalNotes(); i := getRhythmIndex(); melodyIconSpeedCopy := melodyIconSpeed; deployTarget(dTime, melodyIconSpeedCopy, targets[i], typeIndex, targetX, targetY); deployMelodyIcon(time, dTime, melodyIconSpeedCopy, melodyIcons[i], typeIndex, melodyIconStartX, melodyIconStartY, targetX, targetY)));</chat><chat thread="1302222473" no="303" vpos="0" date="1310831408" premium="1" fork="1">/"// リズム用インデックスを取得"</chat><chat thread="1302222473" no="304" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(getRhythmIndex(), i := rhythmIndex; rhythmIndex++; if(rhythmIndex &gt;= MELODY_ICON_LENGTH, then:rhythmIndex = 0); i);</chat><chat thread="1302222473" no="305" vpos="0" date="1310831408" premium="1" fork="1">/"// ターゲットの表示時間を取得"</chat><chat thread="1302222473" no="306" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(getTargetDisplayTimeSpan(melodyIconSpeedCopy), targetDisplayTimeSpan := TARGET_DISPLAY_TIMESPAN_RATE / melodyIconSpeedCopy; targetDisplayTimeSpan);</chat><chat thread="1302222473" no="307" vpos="0" date="1310831408" premium="1" fork="1">/"// メロディアイコンの移動時間を取得"</chat><chat thread="1302222473" no="308" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(getMoveTimeSpan(melodyIconStartX, melodyIconStartY, targetX, targetY, melodyIconSpeedCopy), moveTimeSpan := (distance(melodyIconStartX, melodyIconStartY, targetX, targetY) / (melodyIconSpeedCopy * GameInfo.getInterval() * 100)).floor * GameInfo.getInterval(); moveTimeSpan);</chat><chat thread="1302222473" no="309" vpos="0" date="1310831408" premium="1" fork="1">/"// ターゲットを配置"</chat><chat thread="1302222473" no="310" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(deployTarget(dTime, melodyIconSpeedCopy, target, typeIndex, targetX, targetY), targetDisplayTimeSpan := getTargetDisplayTimeSpan(melodyIconSpeedCopy); timer(timer:dTime - targetDisplayTimeSpan, then:target.deploy(TARGET_TYPE[typeIndex], targetX, targetY, targetDisplayTimeSpan)));</chat><chat thread="1302222473" no="311" vpos="0" date="1310831408" premium="1" fork="1">/"// メロディアイコンを配置"</chat><chat thread="1302222473" no="312" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(deployMelodyIcon(time, dTime, melodyIconSpeedCopy, melodyIcon, typeIndex, melodyIconStartX, melodyIconStartY, targetX, targetY), moveTimeSpan := getMoveTimeSpan(melodyIconStartX, melodyIconStartY, targetX, targetY, melodyIconSpeedCopy); timer(timer:dTime - moveTimeSpan, then:melodyIcon.deploy(MELODY_ICON_TYPE[typeIndex], MELODY_ICON_COLOR[typeIndex], melodyIconStartX, melodyIconStartY, targetX, targetY, melodyIconSpeedCopy, time)); timer(timer:dTime - HIT_JUDGE_TIMESPAN[HIT_JUDGE_TIMESPAN.size - 1] / 2, then:melodyIcon.setInJudgeSpan(true)); if(GameInfo.isAuto(), then:timer(timer:dTime, then:hit(melodyIcon, time))); timer(timer:dTime + HIT_JUDGE_TIMESPAN[HIT_JUDGE_TIMESPAN.size - 1] / 2, then:melodyIcon.setInJudgeSpan(false); judgeMiss(melodyIcon)));</chat><chat thread="1302222473" no="313" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIME開始"</chat><chat thread="1302222473" no="314" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】CHANCE TIME開始と同時に配置されるメロディアイコンに確実に対応するため、1フレーム分ずらして開始する"</chat><chat thread="1302222473" no="315" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(startChanceTime(time), if(level == GameInfo.level, then:if(time == undefined, then:time = masterTime); dTime := time - SET_RHYTHM_TIME - GameInfo.getInterval(); timer(timer:dTime, then:score.startChanceTime()); Main.disappearUpperUnderWindow(dTime, UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN, true); Main.appearUpperUnderWindowChanceTime(dTime + UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN + 0.01)));</chat><chat thread="1302222473" no="316" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIME終了"</chat><chat thread="1302222473" no="317" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】CHANCE TIME終了と同時に配置されるメロディアイコンに確実に対応するため、1フレーム分ずらして終了する"</chat><chat thread="1302222473" no="318" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(endChanceTime(time), if(level == GameInfo.level, then:if(time == undefined, then:time = masterTime); dTime := time - SET_RHYTHM_TIME - GameInfo.getInterval(); timer(timer:dTime, then:score.endChanceTime(); scorePanel.reflesh()); Main.disappearUpperUnderWindowChanceTime(dTime); Main.appearUpperUnderWindow(dTime + UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN + 0.01, UPPER_WINDOW_CHANCE_TIME_APPEAR_TIMESPAN, true)));</chat><chat thread="1302222473" no="319" vpos="0" date="1310831408" premium="1" fork="1">/"// 歌詞の設定"</chat><chat thread="1302222473" no="320" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setLyrics(lyrics, time), if(level == GameInfo.level, then:if(!GameInfo.isLight(), then:if(time == undefined, then:time = masterTime - ((60 / bpm) * 4 / noteLength)); dTime := time - SET_RHYTHM_TIME; timer(timer:dTime, then:if(lyrics == "", then:lyricsText.hide(), else:lyricsText.body.text = lyricsText.shadow.text = lyrics; lyricsText.show())))));</chat><chat thread="1302222473" no="321" vpos="0" date="1310831408" premium="1" fork="1">/"// コメントトリガーをセット"</chat><chat thread="1302222473" no="322" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(setCommentTrigger(), commentTrigger(if(chat.isYourPost == true &amp;&amp; chat.fromButton == true &amp;&amp; isButtonComment(chat.message), then:judgeHit(chat)), timer:GAME_END_TIME - GAME_START_TIME));</chat><chat thread="1302222473" no="323" vpos="0" date="1310831408" premium="1" fork="1">/"// コメントがボタンのどれか（＝○×△□のどれか）かを取得"</chat><chat thread="1302222473" no="324" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(isButtonComment(comment), buttonComment := false; i := 0; while_kari(i &lt; MELODY_ICON_TYPE.size &amp;&amp; buttonComment == false, if(comment == MELODY_ICON_TYPE[i], then:buttonComment = true); i++); buttonComment);</chat><chat thread="1302222473" no="325" vpos="0" date="1310831408" premium="1" fork="1">/"// ヒットの判定"</chat><chat thread="1302222473" no="326" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(judgeHit(chat), melodyIcon := getEventCatchMelodyIcon(); if(melodyIcon != undefined, then:if(melodyIcon.body.text == chat.message, then:hit(melodyIcon, chat.vpos))));</chat><chat thread="1302222473" no="327" vpos="0" date="1310831408" premium="1" fork="1">/"// イベントを拾うメロディアイコンを取得"</chat><chat thread="1302222473" no="328" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】全てのメロディアイコンがイベント拾い対象ではない（最低一つはイベント対象外のメロディアイコンがある）ことを前提"</chat><chat thread="1302222473" no="329" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(getEventCatchMelodyIcon(), melodyIcon := undefined; i := 0; firstNotInEventIndex := -1; while_kari(i &lt; melodyIcons.size &amp;&amp; firstNotInEventIndex == -1, if(melodyIcons[i].body.visible == false || !melodyIcons[i].isInJudgeSpan() || melodyIcons[i].isClicked(), then:firstNotInEventIndex = i); i++); eventCatchIndex := -1; i = firstNotInEventIndex + 1; while_kari(i &lt; melodyIcons.size &amp;&amp; eventCatchIndex == -1, if(melodyIcons[i].body.visible == true &amp;&amp; melodyIcons[i].isInJudgeSpan() &amp;&amp; !melodyIcons[i].isClicked(), then:eventCatchIndex = i); i++); if(firstNotInEventIndex != 0 &amp;&amp; eventCatchIndex == -1, then:eventCatchIndex = 0); if(eventCatchIndex != -1, then:melodyIcon = melodyIcons[eventCatchIndex]); melodyIcon);</chat><chat thread="1302222473" no="330" vpos="0" date="1310831408" premium="1" fork="1">/"// ヒットの処理"</chat><chat thread="1302222473" no="331" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(hit(melodyIcon, clickTime), melodyIcon.scaleUp(); timingIndex := judgeHitType(melodyIcon.time, clickTime); score.calculate(timingIndex); scorePanel.reflesh(); melodyIcon.setClicked(true);  timing.display(timingIndex, melodyIcon.body.x, melodyIcon.body.y); timer(timer:HIT_EFFECT_TIMESPAN, then:hide(melodyIcon.body)));</chat><chat thread="1302222473" no="332" vpos="0" date="1310831408" premium="1" fork="1">/"// ヒットの種類を判定"</chat><chat thread="1302222473" no="333" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】WORSTはhitの対象外なのでTIMING_TYPE配列は[TIMING_TYPE.size - 2]までしか使わない"</chat><chat thread="1302222473" no="334" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】この判定に来ている時点で確実にSAD以上"</chat><chat thread="1302222473" no="335" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(judgeHitType(correctTime, clickTime), i := 0; timingIndex := TIMING_TYPE.size - 2; while_kari(i &lt; TIMING_TYPE.size - 2 &amp;&amp; timingIndex == TIMING_TYPE.size - 2, if((correctTime - HIT_JUDGE_TIMESPAN[i] / 2) &lt;= clickTime &amp;&amp; clickTime &lt;= (correctTime + HIT_JUDGE_TIMESPAN[i] / 2), then:timingIndex = i); i++); timingIndex);</chat><chat thread="1302222473" no="336" vpos="0" date="1310831408" premium="1" fork="1">/"// ミスの判定"</chat><chat thread="1302222473" no="337" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(judgeMiss(melodyIcon), if(melodyIcon.body.visible == true &amp;&amp; !melodyIcon.isClicked(), then:miss(melodyIcon)));</chat><chat thread="1302222473" no="338" vpos="0" date="1310831408" premium="1" fork="1">/"// ミスの処理"</chat><chat thread="1302222473" no="339" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.def(miss(melodyIcon), score.calculate(TIMING_TYPE.size - 1); scorePanel.reflesh(); dark(melodyIcon.body); melodyIcon.body.filter = MELODY_ICON_FILTER_MISS1; timing.display(TIMING_TYPE.size - 1, melodyIcon.body.x, melodyIcon.body.y); timer(timer:MISS_EFFECT_TIMESPAN / 2, then:melodyIcon.body.filter = MELODY_ICON_FILTER_MISS2); timer(timer:MISS_EFFECT_TIMESPAN, then:hide(melodyIcon.body)));</chat><chat thread="1302222473" no="340" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜ターゲットクラス＞======================================"</chat><chat thread="1302222473" no="341" vpos="0" date="1310831408" premium="1" fork="1">/Target = Object.clone;</chat><chat thread="1302222473" no="342" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="343" vpos="0" date="1310831408" premium="1" fork="1">/Target.def(init(), self.body = drawText("", z:layerZ++); body.pos = BASE_POSITION; body.color = TARGET_COLOR; body.filter = TARGET_FILTER; body.visible = false);</chat><chat thread="1302222473" no="344" vpos="0" date="1310831408" premium="1" fork="1">/"// 配置"</chat><chat thread="1302222473" no="345" vpos="0" date="1310831408" premium="1" fork="1">/Target.def(deploy(text, x, y, timeSpan), body.text = text; bodySize := TARGET_SIZE; bodyValign := 0; if(text == "×", then:bodySize := TARGET_SIZE_BATSU; bodyValign := TARGET_BATSU_VALIGN); body.size = bodySize; setPosition(body, x, y - MovieInfo.getFontGapY(body.size, false) + bodyValign); show(body); timer(timer:timeSpan + HIT_JUDGE_TIMESPAN[HIT_JUDGE_TIMESPAN.size - 1] / 2, then:hide(body)));</chat><chat thread="1302222473" no="346" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜メロディアイコンクラス＞======================================"</chat><chat thread="1302222473" no="347" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon = Object.clone;</chat><chat thread="1302222473" no="348" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="349" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon.def(init(), self.body = drawText("", z:layerZ++); self.inJudgeSpan = false; self.clicked = false; body.pos = BASE_POSITION; body.visible = false);</chat><chat thread="1302222473" no="350" vpos="0" date="1310831408" premium="1" fork="1">/"// 配置"</chat><chat thread="1302222473" no="351" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon.def(deploy(text, color, startX, startY, goalX, goalY, melodyIconSpeed, time), inJudgeSpan = false; clicked = false; body.text = text; if(body.text == "×", then:body.size = MELODY_ICON_SIZE_BATSU, else:body.size = MELODY_ICON_SIZE); setPosition(body, startX, startY - MovieInfo.getFontGapY(body.size, false)); if(body.text == "×", then:setPositionRelative(body, 0, MELODY_ICON_BATSU_VALIGN)); body.scale = 1; body.color = color; body.filter = MELODY_ICON_FILTER_DEFAULT; self.time = time; show(body); start(startX, startY, goalX, goalY, melodyIconSpeed));</chat><chat thread="1302222473" no="352" vpos="0" date="1310831408" premium="1" fork="1">/"// 移動開始"</chat><chat thread="1302222473" no="353" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon.def(start(startX, startY, goalX, goalY, melodyIconSpeed), timeStep := (distance(startX, startY, goalX, goalY) / (melodyIconSpeed * GameInfo.getInterval() * 100)).floor; dx := (goalX - startX) / timeStep; dy := (goalY - startY) / timeStep; timeStepAll := timeStep + (HIT_JUDGE_TIMESPAN[HIT_JUDGE_TIMESPAN.size - 1] / 2 + MISS_EFFECT_TIMESPAN) / GameInfo.getInterval();i := 0; while_kari(i &lt; timeStepAll, timer(timer:i * GameInfo.getInterval(), then:if(clicked == false &amp;&amp; body.visible == true, then:setPositionRelative(body, dx, dy))); i++));</chat><chat thread="1302222473" no="354" vpos="0" date="1310831408" premium="1" fork="1">/"// クリック判定期間中フラグの取得"</chat><chat thread="1302222473" no="355" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon.def(isInJudgeSpan(), inJudgeSpan);</chat><chat thread="1302222473" no="356" vpos="0" date="1310831408" premium="1" fork="1">/"// クリック判定期間中フラグの設定"</chat><chat thread="1302222473" no="357" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon.def(setInJudgeSpan(inJudgeSpan), self.inJudgeSpan = inJudgeSpan);</chat><chat thread="1302222473" no="358" vpos="0" date="1310831408" premium="1" fork="1">/"// クリック済みフラグの取得"</chat><chat thread="1302222473" no="359" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon.def(isClicked(), clicked);</chat><chat thread="1302222473" no="360" vpos="0" date="1310831408" premium="1" fork="1">/"// クリック済みフラグの設定"</chat><chat thread="1302222473" no="361" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon.def(setClicked(clicked), self.clicked = clicked);</chat><chat thread="1302222473" no="362" vpos="0" date="1310831408" premium="1" fork="1">/"// 拡大"</chat><chat thread="1302222473" no="363" vpos="0" date="1310831408" premium="1" fork="1">/MelodyIcon.def(scaleUp(), align := -(body.size * (MELODY_ICON_HIT_SCALE - 1) / 2); setPositionRelative(body, align, align); body.scale = MELODY_ICON_HIT_SCALE);</chat><chat thread="1302222473" no="364" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜タイミングクラス＞======================================"</chat><chat thread="1302222473" no="365" vpos="0" date="1310831408" premium="1" fork="1">/Timing = Object.clone;</chat><chat thread="1302222473" no="366" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="367" vpos="0" date="1310831408" premium="1" fork="1">/Timing.def(init(comboPanel, chanceTimeScorePanel), self.body = drawText("", z:layerZ++); body.size = TIMING_SIZE; body.pos = BASE_POSITION; body.bold = true; body.visible = false; body.filter = TIMING_FILTER; self.comboPanel = comboPanel; self.chanceTimeScorePanel = chanceTimeScorePanel);</chat><chat thread="1302222473" no="368" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示"</chat><chat thread="1302222473" no="369" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】表示位置の調整には、後ろに続くコンボ数分、CHANCE TIME時のスコア分も含む"</chat><chat thread="1302222473" no="370" vpos="0" date="1310831408" premium="1" fork="1">/Timing.def(display(timingIndex, x, y), body.text = TIMING_TYPE[timingIndex]; body.color = TIMING_COLOR[timingIndex]; ajustX := getAjustX(x); ajustY := getAjustY(y); setPosition(body, ajustX, ajustY - MovieInfo.getFontGapY(body.size, true)); if(comboPanel.score.combo &gt; 1, then:comboPanel.display(ajustX + TIMING_COMBO_GAP, ajustY - (MovieInfo.getActualFontSize(comboPanel.panel.size, true) - MovieInfo.getActualFontSize(body.size, true)) / 2), else:hide(comboPanel.panel)); if(comboPanel.score.isChanceTime == true &amp;&amp; timingIndex &lt; TIMING_TYPE.size - 1, then:chanceTimeScorePanel.display(ajustX, ajustY - CHANCE_TIME_SCORE_SIZE, TIMING_SCORE[timingIndex] * CHANCE_TIME_RATE)); show(body); thisX := body.x; thisY := body.y; timer(timer:TIMING_DISPlAY_TIMESPAN, then:if(body.x == thisX &amp;&amp; body.y == thisY, then:hide(body))));</chat><chat thread="1302222473" no="371" vpos="0" date="1310831408" premium="1" fork="1">/"// 指定X座標を表示可能範囲内に収まるよう調整"</chat><chat thread="1302222473" no="372" vpos="0" date="1310831408" premium="1" fork="1">/Timing.def(getAjustX(x), ajustX := x; xMin := 0; xMax := screenWidth - body.text.size * body.size / 2 - (COMBO_LENGTH + 1) * comboPanel.panel.size / 2; if(ajustX &lt; xMin, then:ajustX = xMin); if(ajustX &gt; xMax, then:ajustX = xMax); ajustX);</chat><chat thread="1302222473" no="373" vpos="0" date="1310831408" premium="1" fork="1">/"// 指定Y座標を表示可能範囲内に収まるよう調整"</chat><chat thread="1302222473" no="374" vpos="0" date="1310831408" premium="1" fork="1">/Timing.def(getAjustY(y), ajustY := y; yMin := MovieInfo.getDisplayAreaMarginY() + CHANCE_TIME_SCORE_SIZE; yMax := screenHeight - MovieInfo.getDisplayAreaMarginY(); if(body.size &gt;= comboPanel.panel.size, then:yMax -= MovieInfo.getActualFontSize(body.size, true), else:yMax -= MovieInfo.getActualFontSize(comboPanel.panel.size, true)); if(ajustY &lt; yMin, then:ajustY = yMin); if(ajustY &gt; yMax, then:ajustY = yMax); ajustY);</chat><chat thread="1302222473" no="375" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜コンボパネルクラス＞======================================"</chat><chat thread="1302222473" no="376" vpos="0" date="1310831408" premium="1" fork="1">/ComboPanel = Object.clone;</chat><chat thread="1302222473" no="377" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="378" vpos="0" date="1310831408" premium="1" fork="1">/ComboPanel.def(init(score), self.score = score; self.panel = drawText("", z:layerZ++); panel.size = COMBO_SIZE; panel.pos = BASE_POSITION; panel.color = COMBO_COLOR; panel.bold = true; panel.visible = false; panel.filter = COMBO_FILTER);</chat><chat thread="1302222473" no="379" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示"</chat><chat thread="1302222473" no="380" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】表示位置の調整はTiming任せなのでこちらではしていない"</chat><chat thread="1302222473" no="381" vpos="0" date="1310831408" premium="1" fork="1">/ComboPanel.def(display(x, y), panel.text = score.combo; setPosition(panel, x, y - MovieInfo.getFontGapY(panel.size, true)); show(panel); thisX := panel.x; thisY := panel.y; timer(timer:TIMING_DISPlAY_TIMESPAN, then:if(panel.x == thisX &amp;&amp; panel.y == thisY, then:hide(panel))));</chat><chat thread="1302222473" no="382" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜CHANCE TIMEスコアパネルクラス＞======================================"</chat><chat thread="1302222473" no="383" vpos="0" date="1310831408" premium="1" fork="1">/ChanceTimeScorePanel = Object.clone;</chat><chat thread="1302222473" no="384" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="385" vpos="0" date="1310831408" premium="1" fork="1">/ChanceTimeScorePanel.def(init(), self.panel = drawText("", z:layerZ++); panel.size = CHANCE_TIME_SCORE_SIZE; panel.pos = BASE_POSITION; panel.color = CHANCE_TIME_SCORE_COLOR; panel.bold = true; panel.visible = false; panel.filter = CHANCE_TIME_SCORE_FILTER);</chat><chat thread="1302222473" no="386" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示"</chat><chat thread="1302222473" no="387" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】表示位置の調整はTiming任せなのでこちらではしていない"</chat><chat thread="1302222473" no="388" vpos="0" date="1310831408" premium="1" fork="1">/ChanceTimeScorePanel.def(display(x, y, chanceTimeScore), panel.text = "+" + chanceTimeScore; setPosition(panel, x, y - MovieInfo.getFontGapY(panel.size, true)); show(panel); thisX := panel.x; thisY := panel.y; timer(timer:CHANCE_TIME_SCORE_DISPlAY_TIMESPAN, then:if(panel.x == thisX &amp;&amp; panel.y == thisY, then:hide(panel))));</chat><chat thread="1302222473" no="389" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜ウィンドウクラス＞======================================"</chat><chat thread="1302222473" no="390" vpos="0" date="1310831408" premium="1" fork="1">/Window = Object.clone;</chat><chat thread="1302222473" no="391" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="392" vpos="0" date="1310831408" premium="1" fork="1">/Window.def(init(x, y, width, height, color, alpha), self.area = drawShape(width:0, z:layerZ++); area.shape = "rect"; setRect(area, x, y, width, height); area.pos = BASE_POSITION; area.color = color; area.alpha = alpha);</chat><chat thread="1302222473" no="393" vpos="0" date="1310831408" premium="1" fork="1">/"// 境界線オブジェクト設定"</chat><chat thread="1302222473" no="394" vpos="0" date="1310831408" premium="1" fork="1">/Window.def(setBorder(size, color, alpha), self.borderTop = drawShape(shape:"rect", z:layerZ++); self.borderBottom = drawShape(shape:"rect", z:layerZ++); self.borderLeft = drawShape(shape:"rect", z:layerZ++); self.borderRight = drawShape(shape:"rect", z:layerZ++); setRect(borderTop, area.x - size, area.y - size, area.width + size * 2, size); setRect(borderBottom, area.x - size, area.y + area.height, area.width + size * 2, size); setRect(borderLeft, area.x - size, area.y, size, area.height); setRect(borderRight, area.x + area.width, area.y, size, area.height); borderTop.pos = borderBottom.pos = borderLeft.pos = borderRight.pos = BASE_POSITION; borderTop.color = borderBottom.color = borderLeft.color = borderRight.color = color; borderTop.alpha = borderBottom.alpha = borderLeft.alpha = borderRight.alpha = alpha);</chat><chat thread="1302222473" no="395" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示"</chat><chat thread="1302222473" no="396" vpos="0" date="1310831408" premium="1" fork="1">/Window.def(show(), show(area); if(self.borderTop != undefined, then:show(borderTop); show(borderBottom); show(borderLeft); show(borderRight)));</chat><chat thread="1302222473" no="397" vpos="0" date="1310831408" premium="1" fork="1">/"// 非表示"</chat><chat thread="1302222473" no="398" vpos="0" date="1310831408" premium="1" fork="1">/Window.def(hide(), hide(area); if(self.borderTop != undefined, then:hide(borderTop); hide(borderBottom); hide(borderLeft); hide(borderRight)));</chat><chat thread="1302222473" no="399" vpos="0" date="1310831408" premium="1" fork="1">/"// 透過度設定（境界線は対象外）"</chat><chat thread="1302222473" no="400" vpos="0" date="1310831408" premium="1" fork="1">/Window.def(setAlpha(alpha), area.alpha = alpha);</chat><chat thread="1302222473" no="401" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜テキストクラス＞======================================"</chat><chat thread="1302222473" no="402" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】ほぼdrawText()と同機能だが、一応クラス化"</chat><chat thread="1302222473" no="403" vpos="0" date="1310831408" premium="1" fork="1">/Text = Object.clone;</chat><chat thread="1302222473" no="404" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="405" vpos="0" date="1310831408" premium="1" fork="1">/Text.def(init(text, x, y, size, color, bold), self.body = drawText("", z:layerZ++); body.text = text; setPosition(body, x, y); body.size = size; body.color = color; body.pos = BASE_POSITION; body.bold = bold);</chat><chat thread="1302222473" no="406" vpos="0" date="1310831408" premium="1" fork="1">/"// テキスト設定"</chat><chat thread="1302222473" no="407" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】このメソッドは非常に怪しい挙動をするので封印。使用禁止"</chat><chat thread="1302222473" no="408" vpos="0" date="1310831408" premium="1" fork="1">/Text.def(setText(text), body.text = text);</chat><chat thread="1302222473" no="409" vpos="0" date="1310831408" premium="1" fork="1">/"// 位置基準設定"</chat><chat thread="1302222473" no="410" vpos="0" date="1310831408" premium="1" fork="1">/Text.def(setPos(pos), body.pos = pos);</chat><chat thread="1302222473" no="411" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜影付きテキストクラス＞======================================"</chat><chat thread="1302222473" no="412" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText = Object.clone;</chat><chat thread="1302222473" no="413" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="414" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText.def(init(text, x, y, dist, size, bodyColor, shadowColor, bold), self.dist = dist; self.shadow = drawText("", z:layerZ++); self.body = drawText("", z:layerZ++); body.text = shadow.text = text; self.setPosition(x, y); body.size = shadow.size = size; body.color = bodyColor; shadow.color = shadowColor; body.pos = shadow.pos = BASE_POSITION; body.bold = shadow.bold = bold);</chat><chat thread="1302222473" no="415" vpos="0" date="1310831408" premium="1" fork="1">/"// テキスト設定"</chat><chat thread="1302222473" no="416" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】このメソッドは非常に怪しい挙動をするので封印。使用禁止"</chat><chat thread="1302222473" no="417" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText.def(setText(text), body.text = shadow.text = text);</chat><chat thread="1302222473" no="418" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示"</chat><chat thread="1302222473" no="419" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText.def(show(), show(body); show(shadow));</chat><chat thread="1302222473" no="420" vpos="0" date="1310831408" premium="1" fork="1">/"// 非表示"</chat><chat thread="1302222473" no="421" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText.def(hide(), hide(body); hide(shadow));</chat><chat thread="1302222473" no="422" vpos="0" date="1310831408" premium="1" fork="1">/"// 位置指定"</chat><chat thread="1302222473" no="423" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText.def(setPosition(x, y), setPosition(body, x, y); setPosition(shadow, x + dist, y + dist));</chat><chat thread="1302222473" no="424" vpos="0" date="1310831408" premium="1" fork="1">/"// 位置指定（相対指定）"</chat><chat thread="1302222473" no="425" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText.def(setPositionRelative(dx, dy), self.setPosition(body.x + dx, body.y + dy));</chat><chat thread="1302222473" no="426" vpos="0" date="1310831408" premium="1" fork="1">/"// 定速移動"</chat><chat thread="1302222473" no="427" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText.def(move(goalX, goalY, timeSpan), move(body, goalX, goalY, timeSpan); move(shadow, goalX + dist, goalY + dist, timeSpan));</chat><chat thread="1302222473" no="428" vpos="0" date="1310831408" premium="1" fork="1">/"// 定速移動（相対指定）"</chat><chat thread="1302222473" no="429" vpos="0" date="1310831408" premium="1" fork="1">/ShadowText.def(moveRelative(dx, dy, timeSpan), self.move(body.x + dx, body.y + dy, timeSpan));</chat><chat thread="1302222473" no="430" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜スコアクラス＞======================================"</chat><chat thread="1302222473" no="431" vpos="0" date="1310831408" premium="1" fork="1">/Score = Object.clone;</chat><chat thread="1302222473" no="432" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="433" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(init(), self.stageScore = 0; self.comboBonus = 0; self.chanceTimeScore = 0; self.chanceTimeBonus = 0; self.totalScore = 0; self.totalNotes = 0; self.combo = 0; self.maxCombo = 0; self.timingCounters = []; i := 0; while_kari(i &lt; TIMING_TYPE.size, timingCounters[i] = 0; i++); self.isChanceTime = false; self.chanceTimeMiss = 0);</chat><chat thread="1302222473" no="434" vpos="0" date="1310831408" premium="1" fork="1">/"// ヒットorミス時の計算処理"</chat><chat thread="1302222473" no="435" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(calculate(timingIndex), countUpTiming(timingIndex); if(timingIndex &lt;= 1, then:countUpCombo(), else:resetCombo(); if(isChanceTime == true, then:chanceTimeMiss++)); addScore(timingIndex));</chat><chat thread="1302222473" no="436" vpos="0" date="1310831408" premium="1" fork="1">/"// 全ノート数カウントアップ"</chat><chat thread="1302222473" no="437" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(countUpTotalNotes(), totalNotes++);</chat><chat thread="1302222473" no="438" vpos="0" date="1310831408" premium="1" fork="1">/"// コンボリセット"</chat><chat thread="1302222473" no="439" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(resetCombo(), combo = 0);</chat><chat thread="1302222473" no="440" vpos="0" date="1310831408" premium="1" fork="1">/"// コンボカウントアップ"</chat><chat thread="1302222473" no="441" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(countUpCombo(), combo++; if(combo &gt; maxCombo, then:maxCombo = combo));</chat><chat thread="1302222473" no="442" vpos="0" date="1310831408" premium="1" fork="1">/"// タイミングカウントアップ"</chat><chat thread="1302222473" no="443" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(countUpTiming(timingIndex), timingCounters[timingIndex]++);</chat><chat thread="1302222473" no="444" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIME開始"</chat><chat thread="1302222473" no="445" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(startChanceTime(), isChanceTime = true);</chat><chat thread="1302222473" no="446" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIME終了"</chat><chat thread="1302222473" no="447" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(endChanceTime(), isChanceTime = false; chanceTimeBonus = -1; i := CHANCE_TIME_BONUS_BORDER.size - 1; while_kari(i &gt;= 0 &amp;&amp; chanceTimeBonus == -1, if(chanceTimeMiss &gt;= CHANCE_TIME_BONUS_BORDER[i], then:chanceTimeBonus = CHANCE_TIME_BONUS_SCORE[i]); i--); chanceTimeScore += chanceTimeBonus; chanceTimeMiss = 0);</chat><chat thread="1302222473" no="448" vpos="0" date="1310831408" premium="1" fork="1">/"// コンボボーナス点を取得"</chat><chat thread="1302222473" no="449" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(getBonusScore(), i:= COMBO_BONUS_BORDER.size - 1; bonusScore := 0; while_kari(i &gt;= 0 &amp;&amp; bonusScore == 0, if(combo &gt;= COMBO_BONUS_BORDER[i], then:bonusScore = COMBO_BONUS_SCORE[i]); i--); bonusScore);</chat><chat thread="1302222473" no="450" vpos="0" date="1310831408" premium="1" fork="1">/"// スコア加算"</chat><chat thread="1302222473" no="451" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(addScore(timingIndex), if(isChanceTime == true, then:addScoreChanceTime(timingIndex), else:addScoreNormal(timingIndex)));</chat><chat thread="1302222473" no="452" vpos="0" date="1310831408" premium="1" fork="1">/"// スコア加算（通常）"</chat><chat thread="1302222473" no="453" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(addScoreNormal(timingIndex), stageScore += TIMING_SCORE[timingIndex]; comboBonus += getBonusScore());</chat><chat thread="1302222473" no="454" vpos="0" date="1310831408" premium="1" fork="1">/"// スコア加算（CHANCE TIME）"</chat><chat thread="1302222473" no="455" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(addScoreChanceTime(timingIndex), chanceTimeScore += TIMING_SCORE[timingIndex] * CHANCE_TIME_RATE; comboBonus += getBonusScore());</chat><chat thread="1302222473" no="456" vpos="0" date="1310831408" premium="1" fork="1">/"// 合計スコアを取得"</chat><chat thread="1302222473" no="457" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(getTotalScore(), stageScore + comboBonus + chanceTimeScore);</chat><chat thread="1302222473" no="458" vpos="0" date="1310831408" premium="1" fork="1">/"// 評価を取得"</chat><chat thread="1302222473" no="459" vpos="0" date="1310831408" premium="1" fork="1">/Score.def(getRatingIndex(), percent := (timingCounters[0] + timingCounters[1]) * 100 / totalNotes; i := 0; ratingIndex := RATING_TYPE.size - 1; while_kari(i &lt; RATING_TYPE.size - 1 &amp;&amp; ratingIndex == RATING_TYPE.size - 1, if(percent &gt;= RATING_BORDER[i], then:ratingIndex = i); i++); ratingIndex);</chat><chat thread="1302222473" no="460" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜スコアパネルクラス＞======================================"</chat><chat thread="1302222473" no="461" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】このクラスはインスタンスが一つだけなので初期化時のパラメータは内包"</chat><chat thread="1302222473" no="462" vpos="0" date="1310831408" premium="1" fork="1">/ScorePanel = Object.clone;</chat><chat thread="1302222473" no="463" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="464" vpos="0" date="1310831408" premium="1" fork="1">/ScorePanel.def(init(score), self.score = score; self.panel = drawText("", z:layerZ++); convertScoreToString(); setPosition(panel, screenWidth - (SCORE_PANEL_SIZE * panel.text.size / 2), MovieInfo.getDisplayAreaMarginY() + (UPPER_WINDOW_HEIGHT - MovieInfo.getActualFontSize(SCORE_PANEL_SIZE, true)) / 2 - MovieInfo.getFontGapY(SCORE_PANEL_SIZE, true)); panel.pos = BASE_POSITION; panel.size = SCORE_PANEL_SIZE; panel.color = SCORE_PANEL_COLOR; panel.bold = true; panel.filter = SCORE_PANEL_FILTER);</chat><chat thread="1302222473" no="465" vpos="0" date="1310831408" premium="1" fork="1">/"// スコア　→　スコア文字列変換"</chat><chat thread="1302222473" no="466" vpos="0" date="1310831408" premium="1" fork="1">/ScorePanel.def(convertScoreToString(),  str := ""; tempScore := score.getTotalScore(); i := 0; while_kari(i &lt; SCORE_PANEL_LENGTH, str = " " + tempScore % 10 + str; tempScore = (tempScore / 10).floor; i++); panel.text = str);</chat><chat thread="1302222473" no="467" vpos="0" date="1310831408" premium="1" fork="1">/"// 更新"</chat><chat thread="1302222473" no="468" vpos="0" date="1310831408" premium="1" fork="1">/ScorePanel.def(reflesh(), convertScoreToString());</chat><chat thread="1302222473" no="469" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜選択ウィンドウクラス＞======================================"</chat><chat thread="1302222473" no="470" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】このクラスはインスタンスが一つだけなので初期化時のパラメータは内包"</chat><chat thread="1302222473" no="471" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow = Object.clone;</chat><chat thread="1302222473" no="472" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="473" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(init(), initWindow(); initTextItem(); initBarcode());</chat><chat thread="1302222473" no="474" vpos="0" date="1310831408" premium="1" fork="1">/"// ウィンドウ領域初期化"</chat><chat thread="1302222473" no="475" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(initWindow(), self.window = Window.clone; x := (screenWidth - SELECT_WINDOW_WIDTH) / 2; y := ((screenHeight - MovieInfo.getDisplayAreaMarginY() * 2) - SELECT_WINDOW_HEIGHT) / 2 + MovieInfo.getDisplayAreaMarginY(); window.init(x, y, SELECT_WINDOW_WIDTH, SELECT_WINDOW_HEIGHT, SELECT_WINDOW_AREA_COLOR, SELECT_WINDOW_AREA_ALPHA); window.setBorder(SELECT_WINDOW_BORDER_SIZE, SELECT_WINDOW_BORDER_COLOR, SELECT_WINDOW_BORDER_ALPHA); window.hide());</chat><chat thread="1302222473" no="476" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示テキストオブジェクト初期化"</chat><chat thread="1302222473" no="477" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(initTextItem(), self.message = drawText("", z:layerZ++);  message.x = 0; message.y = window.area.y + SCORE_BORAD_TEXT_LINE_SPACE; message.size = SELECT_WINDOW_TEXT_SIZE; message.color = SELECT_WINDOW_TEXT_COLOR; message.pos = SELECT_WINDOW_TEXT_POS; message.bold = true; message.visible = false);</chat><chat thread="1302222473" no="478" vpos="0" date="1310831408" premium="1" fork="1">/"// バーコードオブジェクト初期化"</chat><chat thread="1302222473" no="479" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(initBarcode(), self.barcodeLeft = Window.clone; self.barcodeBody = Window.clone; self.barcodeRight = Window.clone; barcodeLeft.init(window.area.x + window.area.width - (3 * SCORE_BARCODE_SIZE), window.area.y, SCORE_BARCODE_SIZE, SCORE_BARCODE_SIZE, SCORE_BARCODE_LEFT_COLOR, 0); barcodeBody.init(window.area.x + window.area.width - (2 * SCORE_BARCODE_SIZE), window.area.y, SCORE_BARCODE_SIZE, SCORE_BARCODE_SIZE, SCORE_BARCODE_RESET_COLOR, 0); barcodeRight.init(window.area.x + window.area.width - (1 * SCORE_BARCODE_SIZE), window.area.y, SCORE_BARCODE_SIZE, SCORE_BARCODE_SIZE, SCORE_BARCODE_RIGHT_COLOR, 0); barcodeLeft.hide(); barcodeBody.hide(); barcodeRight.hide());</chat><chat thread="1302222473" no="480" vpos="0" date="1310831408" premium="1" fork="1">/"// メッセージ設定"</chat><chat thread="1302222473" no="481" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(setText(text), message.text = text);</chat><chat thread="1302222473" no="482" vpos="0" date="1310831408" premium="1" fork="1">/"// 全オブジェクトを表示"</chat><chat thread="1302222473" no="483" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(showAll(), window.show(); show(message); barcodeLeft.show(); barcodeBody.show(); barcodeRight.show());</chat><chat thread="1302222473" no="484" vpos="0" date="1310831408" premium="1" fork="1">/"// 全オブジェクトを非表示"</chat><chat thread="1302222473" no="485" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(hideAll(), window.hide(); hide(message); barcodeLeft.hide(); barcodeBody.hide(); barcodeRight.hide());</chat><chat thread="1302222473" no="486" vpos="0" date="1310831408" premium="1" fork="1">/"// 位置設定（相対指定）"</chat><chat thread="1302222473" no="487" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(setPositionRelative(dx, dy), setPositionRelative(window.area, dx, dy); setPositionRelative(window.borderTop, dx, dy); setPositionRelative(window.borderBottom, dx, dy); setPositionRelative(window.borderLeft, dx, dy); setPositionRelative(window.borderRight, dx, dy); setPositionRelative(message, dx, dy); setPositionRelative(barcodeLeft.area, dx, dy); setPositionRelative(barcodeBody.area, dx, dy); setPositionRelative(barcodeRight.area, dx, dy));</chat><chat thread="1302222473" no="488" vpos="0" date="1310831408" premium="1" fork="1">/"// 定速移動（相対指定）"</chat><chat thread="1302222473" no="489" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(moveRelative(dx, dy, timeSpan), moveRelative(window.area, dx, dy, timeSpan); moveRelative(window.borderTop, dx, dy, timeSpan); moveRelative(window.borderBottom, dx, dy, timeSpan); moveRelative(window.borderLeft, dx, dy, timeSpan); moveRelative(window.borderRight, dx, dy, timeSpan); moveRelative(message, dx, dy, timeSpan); moveRelative(barcodeLeft.area, dx, dy, timeSpan); moveRelative(barcodeBody.area, dx, dy, timeSpan); moveRelative(barcodeRight.area, dx, dy, timeSpan));</chat><chat thread="1302222473" no="490" vpos="0" date="1310831408" premium="1" fork="1">/"// コメントトリガーをセット"</chat><chat thread="1302222473" no="491" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(setCommentTrigger(), commentTrigger(if(chat.isYourPost == true &amp;&amp; chat.fromButton == true, then:if(chat.message == "L" + LEVEL_EASY || chat.message == "L" + LEVEL_NORMAL || chat.message == "L" + LEVEL_HARD || chat.message == "L" + LEVEL_PV, then:Bgm.play(0, 2.00); level := chat.message[1].toInteger; GameInfo.setLevel(level)); if(chat.message == "M" + MODE_NORMAL || chat.message == "M" + MODE_LIGHT || chat.message == "M" + MODE_AUTO, then:Bgm.play(1, 2.00); mode := chat.message[1].toInteger; GameInfo.setMode(mode))), timer:SELECT_WINDOW_TRIGGER_TIMESPAN));</chat><chat thread="1302222473" no="492" vpos="0" date="1310831408" premium="1" fork="1">/"// ロード中のメッセージ設定"</chat><chat thread="1302222473" no="493" vpos="0" date="1310831408" premium="1" fork="1">/SelectWindow.def(loadingMessage(), message.text = "\n\nRhythm data loading . . .\n\n難易度　　 ：" + LEVEL_NAME[GameInfo.level] + "\n動作モード：" + MODE_NAME[GameInfo.mode]);</chat><chat thread="1302222473" no="494" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜スコアボードクラス＞======================================"</chat><chat thread="1302222473" no="495" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】このクラスはインスタンスが一つだけなので初期化時のパラメータは内包"</chat><chat thread="1302222473" no="496" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard = Object.clone;</chat><chat thread="1302222473" no="497" vpos="0" date="1310831408" premium="1" fork="1">/"// 初期化"</chat><chat thread="1302222473" no="498" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(init(score), self.socre = score; initWindow(); initTextItems(); initBarcode());</chat><chat thread="1302222473" no="499" vpos="0" date="1310831408" premium="1" fork="1">/"// ウィンドウ領域初期化"</chat><chat thread="1302222473" no="500" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(initWindow(), self.window = Window.clone; x := (screenWidth - SCORE_BORAD_WIDTH) / 2; y := ((screenHeight - MovieInfo.getDisplayAreaMarginY() * 2) - SCORE_BORAD_HEIGHT) / 2 + MovieInfo.getDisplayAreaMarginY(); window.init(x, y, SCORE_BORAD_WIDTH, SCORE_BORAD_HEIGHT, SCORE_BORAD_AREA_COLOR, SCORE_BORAD_AREA_ALPHA); window.setBorder(SCORE_BORAD_BORDER_SIZE, SCORE_BORAD_BORDER_COLOR, SCORE_BORAD_BORDER_ALPHA); window.hide());</chat><chat thread="1302222473" no="501" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示テキストオブジェクト初期化"</chat><chat thread="1302222473" no="502" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】スクリプト文字数制限のため、init呼び出しは二つの関数に分ける"</chat><chat thread="1302222473" no="503" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(initTextItems(), self.rating = drawText("", z:layerZ++); self.levelStr = drawText("", z:layerZ++); self.leftText = drawText("", z:layerZ++); self.leftValue = drawText("", z:layerZ++); self.rightText = drawText("", z:layerZ++); self.rightValue = drawText("", z:layerZ++); initTextItemsUpper(); initTextItemsUnder());</chat><chat thread="1302222473" no="504" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示テキストオブジェクト初期化（上部用）"</chat><chat thread="1302222473" no="505" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(initTextItemsUpper(), ratingIndex := score.getRatingIndex(); initTextItem(rating, RATING_TYPE[ratingIndex], 0, window.area.y + SCORE_BORAD_TEXT_LINE_SPACE, SCORE_BORAD_TEXT_SIZE_RATING, RATING_COLOR[ratingIndex], SCORE_BORAD_TEXT_POS_RATING); initTextItem(levelStr, LEVEL_NAME[GameInfo.level], 0, rating.y + rating.size + SCORE_BORAD_TEXT_LINE_SPACE, SCORE_BORAD_TEXT_SIZE_LEVEL, SCORE_BORAD_TEXT_COLOR, SCORE_BORAD_TEXT_POS_RATING));</chat><chat thread="1302222473" no="506" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示テキストオブジェクト初期化（下部用）"</chat><chat thread="1302222473" no="507" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(initTextItemsUnder(), initTextItem(leftText, "", window.area.x + SCORE_BORAD_AREA_MARGIN, levelStr.y + levelStr.size + SCORE_BORAD_TEXT_LINE_SPACE, SCORE_BORAD_TEXT_SIZE_DEFAULT, SCORE_BORAD_TEXT_COLOR, BASE_POSITION); initTextItem(leftValue, "", window.area.x + window.area.width * 30 / 100, leftText.y, SCORE_BORAD_TEXT_SIZE_DEFAULT, SCORE_BORAD_TEXT_COLOR, BASE_POSITION); makeLeftText(); initTextItem(rightText, "", window.area.x + window.area.width * 42 / 100, leftText.y, SCORE_BORAD_TEXT_SIZE_DEFAULT, SCORE_BORAD_TEXT_COLOR, BASE_POSITION); initTextItem(rightValue, "", window.area.x + window.area.width * 84 / 100, leftText.y, SCORE_BORAD_TEXT_SIZE_DEFAULT, SCORE_BORAD_TEXT_COLOR, BASE_POSITION); makeTextContent());</chat><chat thread="1302222473" no="508" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示テキストオブジェクト初期化（個々用）"</chat><chat thread="1302222473" no="509" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(initTextItem(textItem, text, x, y, size, color, pos), textItem.text = text; textItem.x = x; textItem.y = y; textItem.size = size; textItem.color = color; textItem.pos = pos; textItem.bold = true; textItem.visible = false);</chat><chat thread="1302222473" no="510" vpos="0" date="1310831408" premium="1" fork="1">/"// バーコードオブジェクト初期化"</chat><chat thread="1302222473" no="511" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(initBarcode(), self.barcodeLeft = Window.clone; self.barcodeBody = Window.clone; self.barcodeRight = Window.clone; barcodeLeft.init(window.area.x + window.area.width - (3 * SCORE_BARCODE_SIZE), window.area.y, SCORE_BARCODE_SIZE, SCORE_BARCODE_SIZE, SCORE_BARCODE_LEFT_COLOR, 0); barcodeBody.init(window.area.x + window.area.width - (2 * SCORE_BARCODE_SIZE), window.area.y, SCORE_BARCODE_SIZE, SCORE_BARCODE_SIZE, (score.getTotalScore() + score.getRatingIndex()) * 10 + GameInfo.level, 0); barcodeRight.init(window.area.x + window.area.width - (1 * SCORE_BARCODE_SIZE), window.area.y, SCORE_BARCODE_SIZE, SCORE_BARCODE_SIZE, SCORE_BARCODE_RIGHT_COLOR, 0); barcodeLeft.hide(); barcodeBody.hide(); barcodeRight.hide());</chat><chat thread="1302222473" no="512" vpos="0" date="1310831408" premium="1" fork="1">/"// 表示テキストの内容を作成"</chat><chat thread="1302222473" no="513" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(makeTextContent(), leftText.text = ""; leffValue.text = ""; leftItemTexts := ["TOTAL NOTES", "COMBO", TIMING_TYPE[0], TIMING_TYPE[1], TIMING_TYPE[2], TIMING_TYPE[3], TIMING_TYPE[4]]; leftItemValues = [score.totalNotes, score.maxCombo, score.timingCounters[0], score.timingCounters[1], score.timingCounters[2], score.timingCounters[3], score.timingCounters[4]]; i := 0; while_kari(i &lt; leftItemTexts.size, leftText.text += leftItemTexts[i] + "\n"; leftValue.text += getPrefixedNumber(leftItemValues[i], SCORE_BORAD_LEFT_VALUE_LENGTH) + "\n"; i++); rightText.text = ""; rightValue.text = ""; rightItemTexts := ["STAGE SCORE", "COMBO BONUS", "CHANCE TIME SCORE", "TOTAL SCORE"]; rightItemValues = [score.stageScore, score.comboBonus, score.chanceTimeScore, score.getTotalScore()]; i := 0; while_kari(i &lt; rightItemTexts.size, rightText.text += rightItemTexts[i] + "\n"; rightValue.text += getPrefixedNumber(rightItemValues[i], SCORE_BORAD_RIGHT_VALUE_LENGTH) + "\n"; i++));</chat><chat thread="1302222473" no="514" vpos="0" date="1310831408" premium="1" fork="1">/"// 全オブジェクトを表示"</chat><chat thread="1302222473" no="515" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】自動モードの時はスコアバーコードを表示しない"</chat><chat thread="1302222473" no="516" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(showAll(), window.show(); show(rating); show(levelStr); show(leftText); show(leftValue); show(rightText); show(rightValue); if(!GameInfo.isAuto(), then:barcodeLeft.show(); barcodeBody.show(); barcodeRight.show()));</chat><chat thread="1302222473" no="517" vpos="0" date="1310831408" premium="1" fork="1">/"// 全オブジェクトを非表示"</chat><chat thread="1302222473" no="518" vpos="0" date="1310831408" premium="1" fork="1">/ScoreBoard.def(hideAll(), window.hide(); hide(rating); hide(levelStr); hide(leftText); hide(leftValue); hide(rightText); hide(rightValue); barcodeLeft.hide(); barcodeBody.hide(); barcodeRight.hide());</chat><chat thread="1302222473" no="519" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜BGMクラス＞======================================"</chat><chat thread="1302222473" no="520" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】BGMを管理するstatic的なクラス"</chat><chat thread="1302222473" no="521" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】そのため、このクラスはインスタンス化せずに使用する"</chat><chat thread="1302222473" no="522" vpos="0" date="1310831408" premium="1" fork="1">/Bgm = Object.clone;</chat><chat thread="1302222473" no="523" vpos="0" date="1310831408" premium="1" fork="1">/"// BGMを登録"</chat><chat thread="1302222473" no="524" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】不安定なため封印。直接同命令を記述すること"</chat><chat thread="1302222473" no="525" vpos="0" date="1310831408" premium="1" fork="1">/Bgm.def(regist(bgmId, volume), BGM(id:bgmId, width:0, height:0, visual:false, volume:volume));</chat><chat thread="1302222473" no="526" vpos="0" date="1310831408" premium="1" fork="1">/"// BGMを指定時間一回再生"</chat><chat thread="1302222473" no="527" vpos="0" date="1310831408" premium="1" fork="1">/Bgm.def(play(bgmIndex, length), stopBGM(bgmIndex); playBGM(bgmIndex); if(length != undefined, then:timer(timer:length, then:stopBGM(bgmIndex))));</chat><chat thread="1302222473" no="528" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜コメント制御クラス＞======================================"</chat><chat thread="1302222473" no="529" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】コメントを制御するstatic的なクラス"</chat><chat thread="1302222473" no="530" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】そのため、このクラスはインスタンス化せずに使用する"</chat><chat thread="1302222473" no="531" vpos="0" date="1310831408" premium="1" fork="1">/CommentController = Object.clone;</chat><chat thread="1302222473" no="532" vpos="0" date="1310831408" premium="1" fork="1">/"// 制御を適用"</chat><chat thread="1302222473" no="533" vpos="0" date="1310831408" premium="1" fork="1">/CommentController.def(apply(), if(COMMENT_CONTROLL == COMMENT_UE_SHITA_NG, then:replace(target:"user", pos:"naka"), else:if(COMMENT_CONTROLL == COMMENT_SIZE_COLOR_NG, then:replace(target:"user", color:COMMENT_COLOR_DEFAULT,size:"medium",pos:"naka"))));</chat><chat thread="1302222473" no="534" vpos="0" date="1310831408" premium="1" fork="1">/"// ＜デバッグ用クラス＞======================================"</chat><chat thread="1302222473" no="535" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】インスタンス化せずに、単にDebug.out(xxx)として対象データを出力する"</chat><chat thread="1302222473" no="536" vpos="0" date="1310831408" premium="1" fork="1">/Debug = Object.clone;</chat><chat thread="1302222473" no="537" vpos="0" date="1310831408" premium="1" fork="1">/Debug.y = 0;</chat><chat thread="1302222473" no="538" vpos="0" date="1310831408" premium="1" fork="1">/"// 変数の値を出力"</chat><chat thread="1302222473" no="539" vpos="0" date="1310831408" premium="1" fork="1">/"// 【メモ】表示オブジェクト数上限の関係上乱発不可。ループ内やイベントで使うときは注意"</chat><chat thread="1302222473" no="540" vpos="0" date="1310831408" premium="1" fork="1">/Debug.def(out(data), size := 30; drawText(text:data, size:size, x:0, y:y, pos:"hidari ue", color:0x00FF00); y += size);</chat><chat thread="1302222473" no="541" vpos="0" date="1310831408" premium="1" fork="1">/"// --------------------------主処理 --------------------------"</chat><chat thread="1302222473" no="542" vpos="0" date="1310831408" premium="1" fork="1">/"// ↓【修正すべき場所★】↓"</chat><chat thread="1302222473" no="543" vpos="0" date="1310831408" premium="1" fork="1">/"// 動画のサイズ。16:9の場合true、4:3の場合falseを指定します"</chat><chat thread="1302222473" no="544" vpos="0" date="1310831408" premium="1" fork="1">/isWide = true;</chat><chat thread="1302222473" no="545" vpos="0" date="1310831408" premium="1" fork="1">/"// コメントの禁止設定。コメントの投稿を禁止する場合はtrue、しない場合はfalseを指定します"</chat><chat thread="1302222473" no="546" vpos="0" date="1310831408" premium="1" fork="1">/postDisabled = false;</chat><chat thread="1302222473" no="547" vpos="0" date="1310831408" premium="1" fork="1">/"// シークの禁止設定。シークを禁止する場合はtrue、しない場合はfalseを指定します"</chat><chat thread="1302222473" no="548" vpos="0" date="1310831408" premium="1" fork="1">/"// シークによる「インチキ」を避ける目的で使用しますが、同時に気軽なプレイや練習もしづらくなるので一長一短です"</chat><chat thread="1302222473" no="549" vpos="0" date="1310831408" premium="1" fork="1">/seekDisabled = false;</chat><chat thread="1302222473" no="550" vpos="0" date="1310831408" premium="1" fork="1">/"// ↑【修正すべき場所★】↑"</chat><chat thread="1302222473" no="551" vpos="0" date="1310831408" premium="1" fork="1">/"// レイヤーカウンタ"</chat><chat thread="1302222473" no="552" vpos="0" date="1310831408" premium="1" fork="1">/layerZ = 0;	"// 【メモ】 この変数のみ、全てのクラスからグローバル使用される"</chat><chat thread="1302222473" no="553" vpos="0" date="1310831408" premium="1" fork="1">/"// ゲーム情報初期化（選択前のデフォルト設定）"</chat><chat thread="1302222473" no="554" vpos="0" date="1310831408" premium="1" fork="1">/GameInfo.setLevel(LEVEL_NORMAL);	"// 【メモ】 デフォルトでNORMAL"</chat><chat thread="1302222473" no="555" vpos="0" date="1310831408" premium="1" fork="1">/GameInfo.setMode(MODE_NORMAL);	"// 【メモ】 デフォルトで通常モード"</chat><chat thread="1302222473" no="556" vpos="0" date="1310831408" premium="1" fork="1">/"// ターゲットオブジェクト配列"</chat><chat thread="1302222473" no="557" vpos="0" date="1310831408" premium="1" fork="1">/targets = []; i = 0; while_kari(i &lt; TARGET_LENGTH, targets[i] = Target.clone; targets[i].init(); i++);</chat><chat thread="1302222473" no="558" vpos="0" date="1310831408" premium="1" fork="1">/"// メロディアイコンオブジェクト配列"</chat><chat thread="1302222473" no="559" vpos="0" date="1310831408" premium="1" fork="1">/melodyIcons = []; i = 0; while_kari(i &lt; MELODY_ICON_LENGTH, melodyIcons[i] = MelodyIcon.clone; melodyIcons[i].init(); i++);</chat><chat thread="1302222473" no="560" vpos="0" date="1310831408" premium="1" fork="1">/"// 上部ウィンドウオブジェクト"</chat><chat thread="1302222473" no="561" vpos="0" date="1310831408" premium="1" fork="1">/upperWindow = Window.clone; upperWindow.init(0, MovieInfo.getDisplayAreaMarginY() - UPPER_WINDOW_HEIGHT, screenWidth, UPPER_WINDOW_HEIGHT, UPPER_WINDOW_COLOR, UPPER_WINDOW_ALPHA);</chat><chat thread="1302222473" no="562" vpos="0" date="1310831408" premium="1" fork="1">/"// 下部ウィンドウオブジェクト"</chat><chat thread="1302222473" no="563" vpos="0" date="1310831408" premium="1" fork="1">/underWindow = Window.clone; underWindow.init(0, screenHeight - MovieInfo.getDisplayAreaMarginY(), screenWidth, UNDER_WINDOW_HEIGHT, UNDER_WINDOW_COLOR, UNDER_WINDOW_ALPHA);</chat><chat thread="1302222473" no="564" vpos="0" date="1310831408" premium="1" fork="1">/"// 歌タイトルオブジェクト"</chat><chat thread="1302222473" no="565" vpos="0" date="1310831408" premium="1" fork="1">/songTitleText = ShadowText.clone; songTitleText.init("♪ " + SONG_TITLE, 0, MovieInfo.getDisplayAreaMarginY() + (UPPER_WINDOW_HEIGHT - MovieInfo.getActualFontSize(SONG_TITLE_SIZE, true)) / 2 - MovieInfo.getFontGapY(SONG_TITLE_SIZE, true) - UPPER_WINDOW_HEIGHT, SONG_TITLE_SHADOW_DISTANCE, SONG_TITLE_SIZE, SONG_TITLE_COLOR, SONG_TITLE_SHADOW_COLOR, true);</chat><chat thread="1302222473" no="566" vpos="0" date="1310831408" premium="1" fork="1">/"// スコアオブジェクト"</chat><chat thread="1302222473" no="567" vpos="0" date="1310831408" premium="1" fork="1">/score = Score.clone; score.init();</chat><chat thread="1302222473" no="568" vpos="0" date="1310831408" premium="1" fork="1">/"// スコアパネルオブジェクト"</chat><chat thread="1302222473" no="569" vpos="0" date="1310831408" premium="1" fork="1">/scorePanel = ScorePanel.clone; scorePanel.init(score); setPositionRelative(scorePanel.panel, 0, -UPPER_WINDOW_HEIGHT);</chat><chat thread="1302222473" no="570" vpos="0" date="1310831408" premium="1" fork="1">/"// 難易度オブジェクト"</chat><chat thread="1302222473" no="571" vpos="0" date="1310831408" premium="1" fork="1">/levelText = ShadowText.clone; levelText.init("", 0, MovieInfo.getDisplayAreaMarginY() + (UPPER_WINDOW_HEIGHT - MovieInfo.getActualFontSize(LEVEL_SIZE, true)) / 2 - MovieInfo.getFontGapY(LEVEL_SIZE, true) - UPPER_WINDOW_HEIGHT, LEVEL_SHADOW_DISTANCE, LEVEL_SIZE, LEVEL_COLOR, LEVEL_SHADOW_COLOR, true);</chat><chat thread="1302222473" no="572" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIMEオブジェクト"</chat><chat thread="1302222473" no="573" vpos="0" date="1310831408" premium="1" fork="1">/chanceTimeText = Text.clone; chanceTimeText.init("CHANCE TIME", 0, screenHeight - MovieInfo.getDisplayAreaMarginY() - UNDER_WINDOW_HEIGHT + (UNDER_WINDOW_HEIGHT - MovieInfo.getActualFontSize(CHANCE_TIME_TEXT_SIZE, true)) / 2 - MovieInfo.getFontGapY(CHANCE_TIME_TEXT_SIZE, true) + UNDER_WINDOW_HEIGHT, CHANCE_TIME_TEXT_SIZE, CHANCE_TIME_TEXT_COLOR, true);</chat><chat thread="1302222473" no="574" vpos="0" date="1310831408" premium="1" fork="1">/"// 歌詞オブジェクト"</chat><chat thread="1302222473" no="575" vpos="0" date="1310831408" premium="1" fork="1">/lyricsText = ShadowText.clone; lyricsText.init("", chanceTimeText.body.x + chanceTimeText.body.text.size * chanceTimeText.body.size / 2 + CHANCE_TIME_LYRICS_GAP, screenHeight - MovieInfo.getDisplayAreaMarginY() - UNDER_WINDOW_HEIGHT + (UNDER_WINDOW_HEIGHT - MovieInfo.getActualFontSize(LYRICS_SIZE, false)) / 2 - MovieInfo.getFontGapY(LYRICS_SIZE, true), LYRICS_SHADOW_DISTANCE, LYRICS_SIZE, LYRICS_COLOR, LYRICS_SHADOW_COLOR, true); lyricsText.hide();</chat><chat thread="1302222473" no="576" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIME開始終了ウィンドウオブジェクト"</chat><chat thread="1302222473" no="577" vpos="0" date="1310831408" premium="1" fork="1">/chanceTimeWindow = Window.clone; chanceTimeWindow.init((screenWidth - CHANCE_TIME_WINDOW_WIDTH) / 2, screenHeight - MovieInfo.getDisplayAreaMarginY() - UNDER_WINDOW_HEIGHT - CHANCE_TIME_WINDOW_HEIGHT - CHANCE_TIME_WINDOW_UNDER_WINDOW_GAP, CHANCE_TIME_WINDOW_WIDTH, CHANCE_TIME_WINDOW_HEIGHT, CHANCE_TIME_WINDOW_COLOR, CHANCE_TIME_WINDOW_ALPHA); chanceTimeWindow.hide();</chat><chat thread="1302222473" no="578" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIME開始終了オブジェクト"</chat><chat thread="1302222473" no="579" vpos="0" date="1310831408" premium="1" fork="1">/chanceTimeMessage = Text.clone; chanceTimeMessage.init("", 0, chanceTimeWindow.area.y + (chanceTimeWindow.area.height - MovieInfo.getActualFontSize(CHANCE_TIME_MESSAGE_SIZE, true)) / 2 - MovieInfo.getFontGapY(CHANCE_TIME_MESSAGE_SIZE, true), CHANCE_TIME_MESSAGE_SIZE, CHANCE_TIME_MESSAGE_COLOR, true); chanceTimeMessage.setPos(CHANCE_TIME_MESSAGE_POS); hide(chanceTimeMessage.body);</chat><chat thread="1302222473" no="580" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIMEボーナスオブジェクト"</chat><chat thread="1302222473" no="581" vpos="0" date="1310831408" premium="1" fork="1">/chanceTimeBonusText = Text.clone; chanceTimeBonusText.init("", 0, chanceTimeWindow.area.y - CHANCE_TIME_BONUS_SIZE - CHANCE_TIME_BONUS_WINDOW_GAP, CHANCE_TIME_BONUS_SIZE, CHANCE_TIME_BONUS_COLOR, true); chanceTimeBonusText.setPos(CHANCE_TIME_BONUS_POS); hide(chanceTimeBonusText.body);</chat><chat thread="1302222473" no="582" vpos="0" date="1310831408" premium="1" fork="1">/"// コンボ数パネルオブジェクト"</chat><chat thread="1302222473" no="583" vpos="0" date="1310831408" premium="1" fork="1">/comboPanel = ComboPanel.clone; comboPanel.init(score);</chat><chat thread="1302222473" no="584" vpos="0" date="1310831408" premium="1" fork="1">/"// CHANCE TIMEスコアパネルオブジェクト"</chat><chat thread="1302222473" no="585" vpos="0" date="1310831408" premium="1" fork="1">/chanceTimeScorePanel = ChanceTimeScorePanel.clone; chanceTimeScorePanel.init();</chat><chat thread="1302222473" no="586" vpos="0" date="1310831408" premium="1" fork="1">/"// タイミングオブジェクト"</chat><chat thread="1302222473" no="587" vpos="0" date="1310831408" premium="1" fork="1">/timing = Timing.clone; timing.init(comboPanel, chanceTimeScorePanel);</chat><chat thread="1302222473" no="588" vpos="0" date="1310831408" premium="1" fork="1">/"// 選択ウィンドウオブジェクト"</chat><chat thread="1302222473" no="589" vpos="0" date="1310831408" premium="1" fork="1">/selectWindow = SelectWindow.clone; selectWindow.init(); dy := (MovieInfo.getDisplayAreaMarginY() - selectWindow.window.area.height - selectWindow.window.borderBottom.height) - selectWindow.window.area.y; selectWindow.setPositionRelative(0, dy);</chat><chat thread="1302222473" no="590" vpos="0" date="1310831408" premium="1" fork="1">/"// スコアボードオブジェクト"</chat><chat thread="1302222473" no="591" vpos="0" date="1310831408" premium="1" fork="1">/scoreBoard = ScoreBoard.clone; scoreBoard.init(score);</chat><chat thread="1302222473" no="592" vpos="0" date="1310831408" premium="1" fork="1">/"// 黒枠上部オブジェクト"</chat><chat thread="1302222473" no="593" vpos="0" date="1310831408" premium="1" fork="1">/maskTop = Window.clone; maskTop.init(0, 0, screenWidth, MovieInfo.getDisplayAreaMarginY(), 0x000000, 0);</chat><chat thread="1302222473" no="594" vpos="0" date="1310831408" premium="1" fork="1">/"// 黒枠下部オブジェクト"</chat><chat thread="1302222473" no="595" vpos="0" date="1310831408" premium="1" fork="1">/maskBottom = Window.clone; maskBottom.init(0, screenHeight - MovieInfo.getDisplayAreaMarginY(), screenWidth, MovieInfo.getDisplayAreaMarginY(), 0x000000, 0);</chat><chat thread="1302222473" no="596" vpos="0" date="1310831408" premium="1" fork="1">/"// 黒枠左部オブジェクト"</chat><chat thread="1302222473" no="597" vpos="0" date="1310831408" premium="1" fork="1">/maskLeft = Window.clone; maskLeft.init(-MovieInfo.getDisplayAreaMarginX(), 0, MovieInfo.getDisplayAreaMarginX(), screenHeight, 0x000000, 0);</chat><chat thread="1302222473" no="598" vpos="0" date="1310831408" premium="1" fork="1">/"// 黒枠右部オブジェクト"</chat><chat thread="1302222473" no="599" vpos="0" date="1310831408" premium="1" fork="1">/maskRight = Window.clone; maskRight.init(screenWidth, 0, MovieInfo.getDisplayAreaMarginX(), screenHeight, 0x000000, 0);</chat><chat thread="1302222473" no="600" vpos="0" date="1310831408" premium="1" fork="1">/"// リズムの準備"</chat><chat thread="1302222473" no="601" vpos="0" date="1310831408" premium="1" fork="1">/Rhythm.init(targets, melodyIcons, timing, scorePanel, score, lyricsText);</chat><chat thread="1302222473" no="602" vpos="0" date="1310831408" premium="1" fork="1">/"// ↓【修正すべき場所★】↓"</chat><chat thread="1302222473" no="603" vpos="0" date="1310831408" premium="1" fork="1">/"// 決定音の登録"</chat><chat thread="1302222473" no="604" vpos="0" date="1310831408" premium="1" fork="1">/"// 音量（BGM(～, volume:xx)のxxの部分）をPV動画の音量に合わせて調整します（0～100）"</chat><chat thread="1302222473" no="605" vpos="0" date="1310831408" premium="1" fork="1">/BGM(id:"nm14042798", width:0, height:0, visual:false, volume:80);</chat><chat thread="1302222473" no="606" vpos="0" date="1310831408" premium="1" fork="1">/BGM(id:"nm14042802", width:0, height:0, visual:false, volume:80);</chat><chat thread="1302222473" no="607" vpos="0" date="1310831408" premium="1" fork="1">/"// ↑【修正すべき場所★】↑"</chat><chat thread="1302222473" no="608" vpos="0" date="1310831408" premium="1" fork="1">/"// コメントの制御"</chat><chat thread="1302222473" no="609" vpos="0" date="1310831408" premium="1" fork="1">/CommentController.apply();</chat><chat thread="1302222473" no="610" vpos="0" date="1310831408" premium="1" fork="1">/"// ↓【修正すべき場所★】↓"</chat><chat thread="1302222473" no="611" vpos="0" date="1310831408" premium="1" fork="1">/"// リズム（譜面）の配置。ここがメインの制作作業です"</chat><chat thread="1302222473" no="612" vpos="0" date="1310831408" premium="1" fork="1">/"// 書き方の詳細はhttp://nivascript.web.fc2.com/をご参照ください"</chat><chat thread="1302222473" no="613" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLevel(LEVEL_EASY);</chat><chat thread="1302222473" no="614" vpos="0" date="1310831408" premium="1" fork="1">/"// 以下にEASYの譜面を記述してください"</chat><chat thread="1302222473" no="615" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setMelodyIconSpeed(2.20);</chat><chat thread="1302222473" no="616" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setBpm(160);</chat><chat thread="1302222473" no="617" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setNoteLength(8);</chat><chat thread="1302222473" no="618" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setMasterTime(13.97);</chat><chat thread="1302222473" no="619" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("科学の限界を超えて私は来たんだよ");</chat><chat thread="1302222473" no="620" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-----0-----0-0-", 50, 100, 0, 260);	"// 科学の限界を超えて"</chat><chat thread="1302222473" no="621" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-----0---0-0---", 150, 200, 0, 260);	"// 私は来たんだよ"</chat><chat thread="1302222473" no="622" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("ネギはついてないけどできれば欲しいな");</chat><chat thread="1302222473" no="623" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---0--0----0---0-0---0-----", 500, 80, 210, 300);	"// ネギはついてないけどできれば欲しいな"</chat><chat thread="1302222473" no="624" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("あのね、早くパソコンに入れてよ");</chat><chat thread="1302222473" no="625" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0--0-------", 85, 50, 270, 150);	"// あのね早く"</chat><chat thread="1302222473" no="626" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0----0--0-------", 170, 120, 270, 150);	"// パソコンに入れてよ"</chat><chat thread="1302222473" no="627" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("どうしたの？");</chat><chat thread="1302222473" no="628" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0----", 280, 160, 0, 100);	"// どうしたの？"</chat><chat thread="1302222473" no="629" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("パッケージずっと見つめてる");</chat><chat thread="1302222473" no="630" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-------0-------0---0------", 240, 300, 30, 100);	"// パッケージずっと見つめてる"</chat><chat thread="1302222473" no="631" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("君のこと");</chat><chat thread="1302222473" no="632" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0-", 100, 100, 0, 225);	"// 君のこと"</chat><chat thread="1302222473" no="633" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="634" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1---1----1---", 150, 200, 0, 270);	"// みくみくにしてあげる"</chat><chat thread="1302222473" no="635" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("歌はまだね、頑張るから");</chat><chat thread="1302222473" no="636" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0----0--0----", 378, 100, 180, 90);	"// 歌はまだね頑張るから"</chat><chat thread="1302222473" no="637" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="638" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1---1----1", 150, 200, 0, 270);	"// みくみくにしてあげる"</chat><chat thread="1302222473" no="639" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからちょっと覚悟をしててよね");</chat><chat thread="1302222473" no="640" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("---0--0----0--0----0-------", 500, 100, 210, 120);	"// だからちょっと覚悟をしててよね"</chat><chat thread="1302222473" no="641" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="642" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="643" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="644" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-------", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="645" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("してあげるから");</chat><chat thread="1302222473" no="646" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0----0-------", 302, 100, 270, 0);	"// してあげるから"</chat><chat thread="1302222473" no="647" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="648" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="649" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="650" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="651" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-0--0-0--", 302, 240, 90, 0);	"// ※間奏"</chat><chat thread="1302222473" no="652" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.startChanceTime();</chat><chat thread="1302222473" no="653" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてやんよ");</chat><chat thread="1302222473" no="654" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1---1----1---", 500, 220, 150, 240);	"// みくみくにしてやんよ"</chat><chat thread="1302222473" no="655" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("最後までね、頑張るから");</chat><chat thread="1302222473" no="656" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0----0--0----", 240, 70, 180, 270);	"// 最後までね頑張るから"</chat><chat thread="1302222473" no="657" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてやんよ");</chat><chat thread="1302222473" no="658" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1---1----1", 50, 120, 315, 60);	"// みくみくにしてやんよ"</chat><chat thread="1302222473" no="659" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからちょっと油断をしてあげて");</chat><chat thread="1302222473" no="660" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("---0--0----0--0----", 262, 332, 30, 110);	"// だからちょっと油断をしてあげ（て）"</chat><chat thread="1302222473" no="661" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="662" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1---1----1---", 60, 60, 0, 250);	"// みくみくにしてあげる"</chat><chat thread="1302222473" no="663" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("世界中の誰、誰より");</chat><chat thread="1302222473" no="664" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0----0--0----", 360, 60, 340, 250);	"// 世界中の誰誰より"</chat><chat thread="1302222473" no="665" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="666" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1---1----1", 554, 190, 200, 120);	"// みくみくにしてあげる"</chat><chat thread="1302222473" no="667" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからもっと私に歌わせてね");</chat><chat thread="1302222473" no="668" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("---0--0----0--0----0-------", 0, 50, 330, 240);	"// だからもっと私に歌わせてね"</chat><chat thread="1302222473" no="669" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.endChanceTime();</chat><chat thread="1302222473" no="670" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="671" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="672" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="673" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="674" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-0--0-0--0-------", 302, 280, 90, 0);	"// ※間奏"</chat><chat thread="1302222473" no="675" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="676" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="677" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="678" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-0--0-0--", 302, 120, 270, 0);	"// ※間奏"</chat><chat thread="1302222473" no="679" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLevel(LEVEL_NORMAL);</chat><chat thread="1302222473" no="680" vpos="0" date="1310831408" premium="1" fork="1">/"// 以下にNORMALの譜面を記述してください"</chat><chat thread="1302222473" no="681" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setMelodyIconSpeed(2.20);</chat><chat thread="1302222473" no="682" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setBpm(160);</chat><chat thread="1302222473" no="683" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setNoteLength(8);</chat><chat thread="1302222473" no="684" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setMasterTime(13.97);</chat><chat thread="1302222473" no="685" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("科学の限界を超えて私は来たんだよ");</chat><chat thread="1302222473" no="686" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---0-0---0-0-0-", 50, 250, 0, 100);	"// 科学の限界を超えて"</chat><chat thread="1302222473" no="687" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---0-0---0-0---", 345, 231, 30, 120);	"// 私は来たんだよ"</chat><chat thread="1302222473" no="688" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("ネギはついてないけどできれば欲しいな");</chat><chat thread="1302222473" no="689" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1---1--1----111-1-1-111-----", 500, 80, 180, 300);	"// ネギはついてないけどできれば欲しいな"</chat><chat thread="1302222473" no="690" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("あのね、早くパソコンに入れてよ");</chat><chat thread="1302222473" no="691" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0--00------", 85, 140, 270, 150);	"// あのね早く"</chat><chat thread="1302222473" no="692" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0-0--00------", 160, 271, 45, 330);	"// パソコンに入れてよ"</chat><chat thread="1302222473" no="693" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("どうしたの？");</chat><chat thread="1302222473" no="694" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-1--", 400, 300, 180, 80);	"// どうしたの？"</chat><chat thread="1302222473" no="695" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("パッケージずっと見つめてる");</chat><chat thread="1302222473" no="696" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-------1-------1--11------", 200, 150, 0, 80);	"// パッケージずっと見つめてる"</chat><chat thread="1302222473" no="697" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("君のこと");</chat><chat thread="1302222473" no="698" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0-", 100, 100, 0, 225);	"// 君のこと"</chat><chat thread="1302222473" no="699" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="700" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-000-0000---", 150, 200, 0, 270);	"// みくみくにしてあげる"</chat><chat thread="1302222473" no="701" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("歌はまだね、頑張るから");</chat><chat thread="1302222473" no="702" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1----1--1----", 378, 100, 180, 90);	"// 歌はまだね頑張るから"</chat><chat thread="1302222473" no="703" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="704" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-000-0000", 150, 200, 0, 270);	"// みくみくにしてあげる"</chat><chat thread="1302222473" no="705" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからちょっと覚悟をしててよね");</chat><chat thread="1302222473" no="706" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("---", 0, 0, 0, 0);	"// だから"</chat><chat thread="1302222473" no="707" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0--0--", 375, 125, 90, 340);	"// ちょっと"</chat><chat thread="1302222473" no="708" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-0--0----0-------", 326, 97, 210, 135);	"// 覚悟をしててよね"</chat><chat thread="1302222473" no="709" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="710" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="711" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="712" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-------", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="713" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("してあげるから");</chat><chat thread="1302222473" no="714" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-00-0-------", 302, 100, 270, 0);	"// してあげるから"</chat><chat thread="1302222473" no="715" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="716" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="717" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="718" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="719" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-1--1-1--", 302, 300, 45, 135);	"// ※間奏"</chat><chat thread="1302222473" no="720" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.startChanceTime();</chat><chat thread="1302222473" no="721" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてやんよ");</chat><chat thread="1302222473" no="722" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-000-", 500, 140, 150, 240);	"// みくみくにし"</chat><chat thread="1302222473" no="723" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0000---", 349, 74, 180, 270);	"// てやんよ"</chat><chat thread="1302222473" no="724" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("最後までね、頑張るから");</chat><chat thread="1302222473" no="725" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1----1--1----", 217, 74, 180, 270);	"// 最後までね頑張るから"</chat><chat thread="1302222473" no="726" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてやんよ");</chat><chat thread="1302222473" no="727" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-000-", 50, 140, 315, 225);	"// みくみくにし"</chat><chat thread="1302222473" no="728" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0000", 179, 232, 0, 90);	"// てやんよ"</chat><chat thread="1302222473" no="729" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからちょっと油断をしてあげて");</chat><chat thread="1302222473" no="730" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("---", 0, 0, 0, 0);	"// だから"</chat><chat thread="1302222473" no="731" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1--1-1--1----", 311, 232, 30, 110);	"// ちょっと油断をしてあげ（て）"</chat><chat thread="1302222473" no="732" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="733" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-000-", 100, 60, 0, 250);	"// みくみくにし"</chat><chat thread="1302222473" no="734" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0000---", 264, 79, 330, 250);	"// てあげる"</chat><chat thread="1302222473" no="735" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("世界中の誰、誰より");</chat><chat thread="1302222473" no="736" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1----1--1----", 150, 160, 330, 250);	"// 世界中の誰誰より"</chat><chat thread="1302222473" no="737" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="738" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-000-", 440, 60, 270, 10);	"// みくみくにし"</chat><chat thread="1302222473" no="739" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0000", 405, 204, 200, 290);	"// てあげる"</chat><chat thread="1302222473" no="740" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからもっと私に歌わせてね");</chat><chat thread="1302222473" no="741" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("---", 0, 0, 0, 0);	"// だから"</chat><chat thread="1302222473" no="742" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--1--1-1--1----1-------", 371, 120, 200, 120);	"// もっと私に歌わせてね"</chat><chat thread="1302222473" no="743" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.endChanceTime();</chat><chat thread="1302222473" no="744" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="745" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="746" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="747" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="748" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-", 362, 100, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="749" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--", 242, 140, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="750" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-", 362, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="751" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--", 242, 220, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="752" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-------", 362, 260, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="753" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="754" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="755" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="756" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-", 362, 120, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="757" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--", 242, 160, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="758" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-", 362, 200, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="759" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1--", 242, 240, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="760" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLevel(LEVEL_HARD);</chat><chat thread="1302222473" no="761" vpos="0" date="1310831408" premium="1" fork="1">/"// 以下にHARDの譜面を記述してください"</chat><chat thread="1302222473" no="762" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setMelodyIconSpeed(2.20);</chat><chat thread="1302222473" no="763" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setBpm(160);</chat><chat thread="1302222473" no="764" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setNoteLength(8);</chat><chat thread="1302222473" no="765" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setMasterTime(13.97);</chat><chat thread="1302222473" no="766" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("科学の限界を超えて私は来たんだよ");</chat><chat thread="1302222473" no="767" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("000-0-00000-000-", 50, 250, 0, 100);	"// 科学の限界を超えて"</chat><chat thread="1302222473" no="768" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("111-1-1-111-1---", 345, 231, 30, 120);	"// 私は来たんだよ"</chat><chat thread="1302222473" no="769" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("ネギはついてないけどできれば欲しいな");</chat><chat thread="1302222473" no="770" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("222-2222-22-333-3-3-333-----", 500, 80, 180, 300);	"// ネギはついてないけどできれば欲しいな"</chat><chat thread="1302222473" no="771" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("あのね、早くパソコンに入れてよ");</chat><chat thread="1302222473" no="772" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0000--00------", 85, 140, 270, 150);	"// あのね早く"</chat><chat thread="1302222473" no="773" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("111111--11------", 160, 271, 45, 330);	"// パソコンに入れてよ"</chat><chat thread="1302222473" no="774" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("どうしたの？");</chat><chat thread="1302222473" no="775" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3-333", 400, 300, 180, 80);	"// どうしたの？"</chat><chat thread="1302222473" no="776" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("パッケージずっと見つめてる");</chat><chat thread="1302222473" no="777" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3--3-3-33--3-3-33--33------", 200, 150, 0, 80);	"// パッケージずっと見つめてる"</chat><chat thread="1302222473" no="778" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("君のこと");</chat><chat thread="1302222473" no="779" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2--2-", 100, 100, 0, 225);	"// 君のこと"</chat><chat thread="1302222473" no="780" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="781" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-11-111-1111---", 150, 200, 0, 270);	"// みくみくにしてあげる"</chat><chat thread="1302222473" no="782" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("歌はまだね、頑張るから");</chat><chat thread="1302222473" no="783" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-0000--0-000", 378, 100, 180, 90);	"// 歌はまだね頑張るから"</chat><chat thread="1302222473" no="784" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="785" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2-22-222-2222", 150, 200, 0, 270);	"// みくみくにしてあげる"</chat><chat thread="1302222473" no="786" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからちょっと覚悟をしててよね");</chat><chat thread="1302222473" no="787" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3333--3--", 375, 161, 90, 340);	"// だからちょっと"</chat><chat thread="1302222473" no="788" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0000-0-0000-------", 326, 77, 210, 135);	"// 覚悟をしててよね"</chat><chat thread="1302222473" no="789" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="790" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="791" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="792" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2-------", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="793" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("してあげるから");</chat><chat thread="1302222473" no="794" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-22-3333-------", 302, 100, 270, 0);	"// してあげるから"</chat><chat thread="1302222473" no="795" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="796" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="797" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="798" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="799" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3-0--1-2--", 302, 300, 45, 135);	"// ※間奏"</chat><chat thread="1302222473" no="800" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.startChanceTime();</chat><chat thread="1302222473" no="801" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてやんよ");</chat><chat thread="1302222473" no="802" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2-22-222-", 580, 140, 150, 240);	"// みくみくにし"</chat><chat thread="1302222473" no="803" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1111---", 429, 74, 180, 270);	"// てやんよ"</chat><chat thread="1302222473" no="804" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("最後までね、頑張るから");</chat><chat thread="1302222473" no="805" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3-33-3330--0-000", 297, 74, 180, 270);	"// 最後までね頑張るから"</chat><chat thread="1302222473" no="806" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてやんよ");</chat><chat thread="1302222473" no="807" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3-33-333-", 20, 140, 315, 240);	"// みくみくにし"</chat><chat thread="1302222473" no="808" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2222", 149, 232, 0, 90);	"// てやんよ"</chat><chat thread="1302222473" no="809" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからちょっと油断をしてあげて");</chat><chat thread="1302222473" no="810" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0000--0--1111-1-111", 281, 232, 30, 300);	"// だからちょっと油断をしてあげ（て）"</chat><chat thread="1302222473" no="811" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="812" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-00-000-", 100, 60, 0, 250);	"// みくみくにし"</chat><chat thread="1302222473" no="813" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2222---", 264, 79, 330, 250);	"// てあげる"</chat><chat thread="1302222473" no="814" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("世界中の誰、誰より");</chat><chat thread="1302222473" no="815" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-11-1113--3-333", 150, 120, 330, 250);	"// 世界中の誰誰より"</chat><chat thread="1302222473" no="816" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("みくみくにしてあげる");</chat><chat thread="1302222473" no="817" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-11-111-", 440, 60, 270, 10);	"// みくみくにし"</chat><chat thread="1302222473" no="818" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0000", 405, 204, 200, 290);	"// てあげる"</chat><chat thread="1302222473" no="819" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("だからもっと私に歌わせてね");</chat><chat thread="1302222473" no="820" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2222--2--3333-3-3333-------", 371, 120, 200, 120);	"// だからもっと私に歌わせてね"</chat><chat thread="1302222473" no="821" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.endChanceTime();</chat><chat thread="1302222473" no="822" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setLyrics("");</chat><chat thread="1302222473" no="823" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="824" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="825" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="826" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-", 362, 100, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="827" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3--", 242, 140, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="828" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-", 362, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="829" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2--", 242, 220, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="830" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-------", 362, 260, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="831" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3---", 182, 100, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="832" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2---", 422, 180, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="833" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("1-----", 182, 260, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="834" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-", 362, 120, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="835" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("3--", 242, 160, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="836" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("0-", 362, 200, 0, 0);	"// ※間奏"</chat><chat thread="1302222473" no="837" vpos="850" date="1310831408" premium="1" fork="1">/Rhythm.setRhythmSequence("2--", 242, 240, 0, 180);	"// ※間奏"</chat><chat thread="1302222473" no="838" vpos="0" date="1310831408" premium="1" fork="1">/"// ↑【修正すべき場所★】↑"</chat><chat thread="1302222473" no="839" vpos="0" date="1310831408" premium="1" fork="1">/selectWindow.showAll();</chat><chat thread="1302222473" no="840" vpos="4" date="1310831408" premium="1" fork="1">/selectWindow.moveRelative(0, ((screenHeight - selectWindow.window.area.height) / 2) - selectWindow.window.area.y, SELECT_WINDOW_APPEAR_TIMESPAN);</chat><chat thread="1302222473" no="841" vpos="100" date="1310831408" premium="1" fork="1">/selectWindow.setText("難易度と動作モードを選択してください");</chat><chat thread="1302222473" no="842" vpos="101" date="1310831408" mail="ue small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="843" vpos="101" date="1310831408" mail="ue small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="844" vpos="101" date="1310831408" mail="ue small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="845" vpos="101" date="1310831408" mail="ue small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="846" vpos="101" date="1310831408" mail="ue small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="847" vpos="101" date="1310831408" mail="shita small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="848" vpos="101" date="1310831408" mail="shita small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="849" vpos="101" date="1310831408" mail="shita small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="850" vpos="101" date="1310831408" mail="shita @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="851" vpos="0" date="1310831408" premium="1" fork="1">/"// ↓【修正すべき場所★】↓"</chat><chat thread="1302222473" no="852" vpos="0" date="1310831408" premium="1" fork="1">/"// 難易度選択ボタンの設置"</chat><chat thread="1302222473" no="853" vpos="0" date="1310831408" premium="1" fork="1">/"// EASYやHARDを実装しない場合は、該当の「1.02:ue #10C1D0 @7 local:＠ボタン　～」の＠ボタン以降を半角スペース一つに置き換えます。（すなわち、「1.02:ue #10C1D0 @7 local: 」とする）"</chat><chat thread="1302222473" no="854" vpos="102" date="1310831408" mail="ue #10C1D0 @7 local" premium="1" fork="1">＠ボタン　" [EASY]                        " L1 非表示 "ue" 1</chat><chat thread="1302222473" no="855" vpos="103" date="1310831408" mail="ue small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="856" vpos="104" date="1310831408" mail="ue #10C1D0 @7 local" premium="1" fork="1">＠ボタン　"[NORMAL]                       " L2 非表示 "ue" 1</chat><chat thread="1302222473" no="857" vpos="105" date="1310831408" mail="ue small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="858" vpos="106" date="1310831408" mail="ue #10C1D0 @7 local" premium="1" fork="1">＠ボタン　" [HARD]                        " L3 非表示 "ue" 1</chat><chat thread="1302222473" no="859" vpos="0" date="1310831408" premium="1" fork="1">/"// ↑【修正すべき場所★】↑"</chat><chat thread="1302222473" no="860" vpos="107" date="1310831408" mail="ue small @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="861" vpos="108" date="1310831408" mail="ue #10C1D0 @7 local" premium="1" fork="1">＠ボタン　"[PV鑑賞]                       " L0 非表示 "ue" 1</chat><chat thread="1302222473" no="862" vpos="109" date="1310831408" mail="shita #10C1D0 @7 local" premium="1" fork="1">＠ボタン　"                       [自動モード]" M2 非表示 "ue" 1</chat><chat thread="1302222473" no="863" vpos="110" date="1310831408" mail="shita @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="864" vpos="111" date="1310831408" mail="shita #10C1D0 @7 local" premium="1" fork="1">＠ボタン　"                       [軽量モード]" M1 非表示 "ue" 1</chat><chat thread="1302222473" no="865" vpos="112" date="1310831408" mail="shita @7" premium="1" fork="1"> </chat><chat thread="1302222473" no="866" vpos="113" date="1310831408" mail="shita #10C1D0 @7 local" premium="1" fork="1">＠ボタン　"                       [通常モード]" M0 非表示 "ue" 1</chat><chat thread="1302222473" no="867" vpos="101" date="1310831408" premium="1" fork="1">/selectWindow.setCommentTrigger();</chat><chat thread="1302222473" no="868" vpos="810" date="1310831408" premium="1" fork="1">/Main.reflectLevelMode();</chat><chat thread="1302222473" no="869" vpos="810" date="1310831408" premium="1" fork="1">/selectWindow.loadingMessage();</chat><chat thread="1302222473" no="870" vpos="900" date="1310831408" premium="1" fork="1">/selectWindow.setText("\n\n\n\nRhythm game start!");</chat><chat thread="1302222473" no="871" vpos="900" date="1310831408" premium="1" fork="1">/selectWindow.moveRelative(0, (MovieInfo.getDisplayAreaMarginY() - selectWindow.window.area.height - selectWindow.window.borderBottom.height) - selectWindow.window.area.y, SELECT_WINDOW_APPEAR_TIMESPAN);</chat><chat thread="1302222473" no="872" vpos="1000" date="1310831408" premium="1" fork="1">/selectWindow.hideAll();</chat><chat thread="1302222473" no="873" vpos="1000" date="1310831408" premium="1" fork="1">/if(GameInfo.level != LEVEL_PV, then:Main.appearUpperUnderWindow(0, UPPER_WINDOW_APPEAR_TIMESPAN, false); Main.disappearUpperUnderWindow(MOVIE_LENGTH - UPPER_WINDOW_APPEAR_TIMESPAN - GAME_START_TIME, UPPER_WINDOW_APPEAR_TIMESPAN, false); Main.showScoreBoard(MOVIE_LENGTH - GAME_START_TIME); Main.hideScoreBoard(MOVIE_LENGTH + SCORE_BORAD_HIDE_TIMESPAN - GAME_START_TIME); Rhythm.setCommentTrigger(), else:Main.hideUnderWindow(MOVIE_LENGTH - GAME_START_TIME));</chat><chat thread="1302222473" no="874" vpos="0" date="1310831408" premium="1" fork="1">/"// ↓【修正すべき場所★】↓"</chat><chat thread="1302222473" no="875" vpos="0" date="1310831408" premium="1" fork="1">/"// ボタンの配置"</chat><chat thread="1302222473" no="876" vpos="0" date="1310831408" premium="1" fork="1">/"// 一連の@xxxの部分に、上でMOVIE_LENGTHで指定した動画の長さからおよそ12を引いた値を指定します"</chat><chat thread="1302222473" no="877" vpos="0" date="1310831408" premium="1" fork="1">/"// （注意）ここは小数での指定はできません"</chat><chat thread="1302222473" no="878" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="879" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="880" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="881" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="882" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="883" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="884" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="885" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="886" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="887" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="888" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="889" vpos="1000" date="1310831408" mail="ue small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="890" vpos="1001" date="1310831408" mail="ue #10C1D0 @88 local" premium="1" fork="1">＠ボタン　"　　　　　　　　　　　　　　　　　　　　　　　[△]" △ 非表示 "ue" 1000</chat><chat thread="1302222473" no="891" vpos="1002" date="1310831408" mail="shita small @88" premium="1" fork="1"> </chat><chat thread="1302222473" no="892" vpos="1003" date="1310831408" mail="shita #10C1D0 @88 local" premium="1" fork="1">＠ボタン　"　　　　　　　　　　　　　　　　　　　　　　　[×]" × 非表示 "ue" 1000</chat><chat thread="1302222473" no="893" vpos="1004" date="1310831408" mail="shita #10C1D0 @88 local" premium="1" fork="1">＠ボタン　"　　　　　　　　　　　　　　　　　　　　　　　　　　　[○]" ○ 非表示 "ue" 1000</chat><chat thread="1302222473" no="894" vpos="1005" date="1310831408" mail="ue #10C1D0 @88 local" premium="1" fork="1">＠ボタン　"　　　　　　　　　　　　　　　　　　　[□]" □ 非表示 "ue" 1000</chat><chat thread="1302222473" no="895" vpos="0" date="1310831408" premium="1" fork="1">/"// ↑【修正すべき場所★】↑"</chat><chat thread="1302222473" no="896" vpos="0" date="1310831408" premium="1" fork="1">/"// ↓【修正すべき場所★】↓"</chat><chat thread="1302222473" no="897" vpos="0" date="1310831408" premium="1" fork="1">/"// スコアボード表示用の一時停止"</chat><chat thread="1302222473" no="898" vpos="0" date="1310831408" premium="1" fork="1">/"// 左の数値（「〇〇:small #30E1F0:＠ポーズ～」の〇〇の部分）に、上でMOVIE_LENGTHで指定した動画の長さを指定します"</chat><chat thread="1302222473" no="899" vpos="9975" date="1310831408" mail="#30E1F0 small" premium="1" fork="1">＠ポーズ "RETRY → ブラウザの更新　　REPLAY → |&lt;して放置再生　　終了 → 画面をクリック"</chat><chat thread="1302222473" no="900" vpos="0" date="1310831408" premium="1" fork="1">/"// ↑【修正すべき場所★】↑"</chat></packet>